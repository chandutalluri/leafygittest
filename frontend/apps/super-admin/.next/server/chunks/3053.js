exports.id=3053,exports.ids=[3053],exports.modules={368:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{O:()=>h});var e=c(8732);c(2015);var f=c(6018),g=a([f]);function h({children:a}){let{initAuth:b}=(0,f.n)();return(0,e.jsx)(e.Fragment,{children:a})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},1108:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(8732),e=c(2015);function f({children:a,fallback:b=null}){let[c,f]=(0,e.useState)(!1);return c?(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)(d.Fragment,{children:b})}},2283:()=>{},3053:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>q});var e=c(8732),f=c(5927),g=c(3492),h=c(9659),i=c(368),j=c(6510),k=c(6018),l=c(245);c(2015);var m=c(6592);c(6847),c(2283);var n=a([f,g,i,j,k]);function o({children:a}){return(0,e.jsx)(e.Fragment,{children:a})}function p({children:a}){let{user:b,isAuthenticated:c,isLoading:d}=(0,k.n)(),g=(0,l.useRouter)(),h="/label-design"===g.pathname;return h||!d&&(c||"/login"===g.pathname)?"/login"===g.pathname||"/superadmin/login"===g.pathname?(0,e.jsx)(e.Fragment,{children:a}):h||c?b?.email==="ops.admin@leafyhealth.com"?(0,e.jsx)("main",{className:"min-h-screen bg-gray-50",children:a}):(0,e.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,e.jsx)(f.C,{}),(0,e.jsx)("main",{className:"flex-1 overflow-auto",children:(0,e.jsx)("div",{className:"p-8",children:a})})]}):(0,e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):(0,e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Authenticating..."})]})})}[f,g,i,j,k]=n.then?(await n)():n,(0,m.V)();let q=function({Component:a,pageProps:b}){return(0,e.jsx)(o,{children:(0,e.jsx)(g.i,{children:(0,e.jsx)(i.O,{children:(0,e.jsx)(h.t,{children:(0,e.jsx)(j.g,{children:(0,e.jsx)(p,{children:(0,e.jsx)(a,{...b})})})})})})})};d()}catch(a){d(a)}})},3492:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{i:()=>i});var e=c(8732),f=c(8462),g=c(2015),h=a([f]);function i({children:a}){let[b]=(0,g.useState)(()=>new f.QueryClient({defaultOptions:{queries:{staleTime:3e5,retry:1}}})),[c,d]=(0,g.useState)(!1);return(0,e.jsx)(f.QueryClientProvider,{client:b,children:a})}f=(h.then?(await h)():h)[0],d()}catch(a){d(a)}})},5927:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{C:()=>m});var e=c(8732),f=c(794),g=c.n(f),h=c(245),i=c(6018),j=c(6269),k=a([i]);function l(){let{user:a,logout:b}=(0,i.n)();return(0,e.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,e.jsxs)("div",{className:"flex items-center px-4 py-2 text-sm",children:[(0,e.jsx)(j.GvK,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:a?.email}),(0,e.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a?.email})]})]}),(0,e.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to logout from Super Admin?")&&b()},className:"w-full flex items-center px-4 py-2 text-sm font-medium text-red-700 hover:bg-red-50 hover:text-red-900 transition-colors rounded-lg mx-2",children:[(0,e.jsx)(j.nUv,{className:"h-4 w-4 mr-2"}),"Secure Logout"]})]})}i=(k.then?(await k)():k)[0];let n=[{name:"Dashboard",href:"/",icon:j.ww0,description:"System overview and status",category:"core"},{name:"Database Backup & Restore",href:"/database-backup-restore",icon:j.WmV,description:"Professional PostgreSQL backup and restore with Google Cloud Storage",category:"core",port:3045},{name:"System Monitoring",href:"/monitoring",icon:j.VH9,description:"Real-time system performance and health monitoring",category:"core",port:3029},{name:"Company Management",href:"/company-management",icon:j.t6i,description:"Manage business entities and companies",category:"core",port:3013},{name:"Image Management",href:"/image-management",icon:j._V3,description:"Self-hosted image management with variants",category:"core",port:8080},{name:"Security Centre",href:"/security",icon:j.ekZ,description:"Complete user & permission control system",category:"security"},{name:"Catalog Management",href:"/catalog-management",icon:j.lPX,description:"Product catalog and categories",category:"business",port:3020},{name:"Inventory Management",href:"/inventory-management",icon:j.YVk,description:"Stock and inventory tracking",category:"business",port:3021},{name:"Order Management",href:"/order-management",icon:j.NwB,description:"Order processing and fulfillment",category:"business",port:3022},{name:"Customer Service",href:"/customer-service",icon:j.LoC,description:"Customer support and service management",category:"business",port:3031},{name:"Marketplace Management",href:"/marketplace-management",icon:j.ilR,description:"Multi-vendor marketplace operations",category:"business",port:3032},{name:"Traditional Orders",href:"/traditional-orders",icon:j.lPX,description:"Traditional home supplies order management",category:"business",port:3050},{name:"Traditional Vendors",href:"/traditional/vendors",icon:j.ilR,description:"Vendor management for traditional supplies",category:"business",port:3050},{name:"Payment Processing",href:"/payment-processing",icon:j.y5g,description:"Payment gateway and transactions",category:"financial",port:3023},{name:"Accounting Management",href:"/accounting-management",icon:j.tEU,description:"Financial accounting and bookkeeping",category:"financial",port:3028},{name:"Expense Monitoring",href:"/expense-monitoring",icon:j.G9t,description:"Business expense tracking and control",category:"financial",port:3034},{name:"Shipping Delivery",href:"/shipping-delivery",icon:j.eMd,description:"Logistics and delivery management",category:"operations",port:3026},{name:"Employee Management",href:"/employee-management",icon:j.MWd,description:"HR and workforce management",category:"operations",port:3029},{name:"Label Design",href:"/label-design",icon:j.vwO,description:"Product labeling and design system",category:"operations",port:3035},{name:"Analytics Reporting",href:"/analytics-reporting",icon:j.ntg,description:"Business intelligence and analytics",category:"analytics",port:3025},{name:"Reporting Management",href:"/reporting-management",icon:j.IV1,description:"Report generation and management",category:"analytics",port:3036},{name:"Content Management",href:"/content-management",icon:j.iUU,description:"Digital content and media management",category:"content",port:3037},{name:"Notification Service",href:"/notification-service",icon:j.IrQ,description:"Multi-channel notifications and alerts",category:"content",port:3024},{name:"Multi-Language Management",href:"/multi-language-management",icon:j.ATU,description:"Internationalization and localization",category:"content",port:3038},{name:"Performance Monitor",href:"/performance-monitor",icon:j.KqI,description:"System performance monitoring",category:"system",port:3030},{name:"Integration Hub",href:"/integration-hub",icon:j.lgv,description:"Third-party integrations and APIs",category:"system",port:3033},{name:"Compliance Audit",href:"/compliance-audit",icon:j.Ttw,description:"Regulatory compliance and auditing",category:"system",port:3027}],o=[{id:"core",name:"Core System",color:"bg-blue-500"},{id:"security",name:"Security & Access",color:"bg-red-500"},{id:"business",name:"Business Operations",color:"bg-green-500"},{id:"financial",name:"Financial Management",color:"bg-yellow-500"},{id:"operations",name:"Operations & Logistics",color:"bg-purple-500"},{id:"analytics",name:"Analytics & Reporting",color:"bg-indigo-500"},{id:"content",name:"Content & Communication",color:"bg-pink-500"},{id:"system",name:"System Administration",color:"bg-gray-500"}];function m(){let a=(0,h.useRouter)(),{user:b}=(0,i.n)(),c=b=>"/"===b?"/"===a.pathname:a.pathname.startsWith(b);if(b?.email==="ops.admin@leafyhealth.com"){let a=[{name:"Business Overview",href:"/operational-dashboard",icon:j.ww0,description:"Business domain management"}];return(0,e.jsxs)("nav",{className:"w-80 bg-white shadow-xl border-r border-gray-200 h-full overflow-y-auto",children:[(0,e.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsxs)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg overflow-hidden",children:[(0,e.jsx)("img",{src:"/api/image-management/serve/leafyhealthlogo_copy_25991930-2a1c-4593-95db-1965eea84310.png",alt:"LeafyHealth Logo",className:"w-full h-full object-contain",onError:a=>{let b=a.target;b.style.display="none",b.nextElementSibling?.classList.remove("hidden")}}),(0,e.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg hidden",children:(0,e.jsx)(j.ekZ,{className:"h-8 w-8 text-white"})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"LeafyHealth Operations"}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Business Domain Management"})]})]})}),(0,e.jsx)("div",{className:"p-4",children:(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,e.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,e.jsx)("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Business Domains"})]}),(0,e.jsx)("div",{className:"space-y-1",children:a.map(a=>{let b=a.icon,d=c(a.href);return(0,e.jsxs)(g(),{href:a.href,className:`
                      group flex items-center px-4 py-3 rounded-xl transition-all duration-200 cursor-pointer
                      ${d?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg transform scale-[1.02]":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
                    `,children:[(0,e.jsx)(b,{className:`
                      h-5 w-5 mr-3 transition-transform duration-200
                      ${d?"text-white":"text-gray-400 group-hover:text-gray-600"}
                      ${d?"scale-110":"group-hover:scale-105"}
                    `}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("div",{className:`
                        font-medium text-sm
                        ${d?"text-white":"text-gray-900"}
                      `,children:a.name}),(0,e.jsx)("div",{className:`
                        text-xs mt-0.5
                        ${d?"text-indigo-100":"text-gray-500"}
                      `,children:a.description})]}),d&&(0,e.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})]},a.href)})})]})}),(0,e.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-gray-50 to-transparent",children:[(0,e.jsx)(l,{}),(0,e.jsxs)("div",{className:"text-center mt-4",children:[(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Operations Admin"}),(0,e.jsx)("p",{className:"text-xs text-gray-400",children:"6 Business Domains"})]})]})]})}return(0,e.jsxs)("nav",{className:"w-80 bg-white shadow-xl border-r border-gray-200 h-full overflow-y-auto",children:[(0,e.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsxs)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg overflow-hidden",children:[(0,e.jsx)("img",{src:"/api/image-management/serve/leafyhealthlogo_copy_25991930-2a1c-4593-95db-1965eea84310.png",alt:"LeafyHealth Logo",className:"w-full h-full object-contain",onError:a=>{let b=a.target;b.style.display="none",b.nextElementSibling?.classList.remove("hidden")}}),(0,e.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg hidden",children:(0,e.jsx)(j.ekZ,{className:"h-8 w-8 text-white"})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"LeafyHealth Super Admin"}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"System Administration"})]})]})}),(0,e.jsx)("div",{className:"p-4",children:o.map(a=>{let b=n.filter(b=>b.category===a.id);return 0===b.length?null:(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,e.jsx)("div",{className:`w-3 h-3 rounded-full ${a.color}`}),(0,e.jsx)("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:a.name})]}),(0,e.jsx)("div",{className:"space-y-1",children:b.map(a=>{let b=a.icon,d=c(a.href);return(0,e.jsxs)(g(),{href:a.href,className:`
                        group flex items-center px-4 py-3 rounded-xl transition-all duration-200 cursor-pointer
                        ${d?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg transform scale-[1.02]":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}
                      `,children:[(0,e.jsx)(b,{className:`
                        h-5 w-5 mr-3 transition-transform duration-200
                        ${d?"text-white":"text-gray-400 group-hover:text-gray-600"}
                        ${d?"scale-110":"group-hover:scale-105"}
                      `}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("div",{className:`
                          font-medium text-sm
                          ${d?"text-white":"text-gray-900"}
                        `,children:a.name}),(0,e.jsx)("div",{className:`
                          text-xs mt-0.5
                          ${d?"text-indigo-100":"text-gray-500"}
                        `,children:a.description})]}),d&&(0,e.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})]},a.href)})})]},a.id)})}),(0,e.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-gray-50 to-transparent",children:[(0,e.jsx)(l,{}),(0,e.jsxs)("div",{className:"text-center mt-4",children:[(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"LeafyHealth Super Admin v1.0"}),(0,e.jsx)("p",{className:"text-xs text-gray-400",children:"23 Microservices Connected"})]})]})]})}d()}catch(a){d(a)}})},6018:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{n:()=>g});var e=c(2177),f=a([e]);e=(f.then?(await f)():f)[0];let g=(0,e.create)((a,b)=>({user:null,token:null,loading:!0,isLoading:!1,error:null,isAuthenticated:!1,login:(b,c)=>{localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(b)),a({user:b,token:c,loading:!1,isLoading:!1,error:null,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a({user:null,token:null,loading:!1,isLoading:!1,error:null,isAuthenticated:!1}),window.location.href="/superadmin/login"},loginInternal:async(b,c)=>{a({isLoading:!0,error:null});try{let d=await fetch("/api/auth/internal/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:c})}),e=await d.json();if(!d.ok)throw Error(e.message||"Login failed");let f={...e.user,user_type:"global.admin@leafyhealth.com"===b?"global_admin":"ops.admin@leafyhealth.com"===b?"operational_admin":e.user.user_type};return localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(f)),a({user:f,token:e.token,loading:!1,isLoading:!1,error:null,isAuthenticated:!0}),!0}catch(b){return a({error:b.message,loading:!1,isLoading:!1,isAuthenticated:!1}),!1}},checkAuth:async()=>{try{let b=localStorage.getItem("token"),c=localStorage.getItem("user");if(!b||!c){console.log("No token found, skipping verification"),a({loading:!1});return}if((await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${b}`}})).ok){let d=JSON.parse(c),e={...d,user_type:"global.admin@leafyhealth.com"===d.email?"global_admin":"ops.admin@leafyhealth.com"===d.email?"operational_admin":d.user_type};a({user:e,token:b,loading:!1,isLoading:!1,error:null,isAuthenticated:!0})}else localStorage.removeItem("token"),localStorage.removeItem("user"),a({user:null,token:null,loading:!1,isLoading:!1,error:null,isAuthenticated:!1}),window.location.href="/superadmin/login"}catch(b){console.error("Auth check failed:",b),a({loading:!1,isLoading:!1,error:"Authentication check failed",isAuthenticated:!1})}},initAuth:()=>{let{checkAuth:c}=b(),d=setTimeout(()=>{console.log("Auth initialization timeout, setting loading to false"),a({loading:!1,isLoading:!1})},3e3);c().finally(()=>{clearTimeout(d)})},clearError:()=>{a({error:null})},setLoading:b=>{a({loading:b,isLoading:b})}}));d()}catch(a){d(a)}})},6510:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{g:()=>k});var e=c(8732),f=c(2015),g=c(245),h=c(6018),i=c(1108),j=a([h]);function k({children:a}){return(0,e.jsx)(i.A,{children:(0,e.jsx)(l,{children:a})})}function l({children:a}){let[b,c]=(0,f.useState)(!1),{isAuthenticated:d,isLoading:i}=(0,h.n)(),j=(0,g.useRouter)();return"/operational-dashboard"===j.pathname?(0,e.jsx)(e.Fragment,{children:a}):!b||i?(0,e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):d||"/login"===j.pathname?(0,e.jsx)(e.Fragment,{children:a}):null}h=(j.then?(await j)():j)[0],d()}catch(a){d(a)}})},6592:(a,b,c)=>{"use strict";function d(){return!0}c.d(b,{V:()=>d})},6847:()=>{},9659:(a,b,c)=>{"use strict";c.d(b,{t:()=>e});var d=c(8732);function e({children:a}){return(0,d.jsx)(d.Fragment,{children:a})}}};