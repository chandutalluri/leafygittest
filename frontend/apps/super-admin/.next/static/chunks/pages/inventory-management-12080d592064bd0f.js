(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9808],{1646:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2533:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(72),r=a(4751),n=a(4),l=a(2159),c=a(5374);let o=n.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))});var i=a(4714);let d=n.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))});var x=a(2826),m=a(6598),h=a(5331);let u=n.forwardRef(function(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))});var p=a(6340);function y(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(null),[y,g]=(0,n.useState)([]),[j,f]=(0,n.useState)([]),[v,b]=(0,n.useState)([]),[w,N]=(0,n.useState)(!0),[k,S]=(0,n.useState)(""),[A,C]=(0,n.useState)({search:"",category:"",stockStatus:"",showLowStockOnly:!1}),[E,M]=(0,n.useState)({isOpen:!1,item:null}),[I,O]=(0,n.useState)({adjustmentType:"add",quantity:0,notes:""}),[L,_]=(0,n.useState)({isOpen:!1,productId:null,branchId:null,history:[]}),[T,q]=(0,n.useState)("overview"),{user:R}=(0,l.n)();(0,n.useEffect)(()=>{B()},[]),(0,n.useEffect)(()=>{(k||A.search||A.category||A.stockStatus)&&U()},[k,A.search,A.category,A.stockStatus]);let B=async()=>{N(!0),await Promise.all([V(),U(),z(),W()]),N(!1)},V=async()=>{try{let e=await fetch("/api/branches");if(e.ok){let t=await e.json();f(t.data||[])}}catch(e){console.error("Error fetching branches:",e)}},U=async()=>{try{let e=new URLSearchParams;k&&e.append("branchId",k),A.category&&e.append("category",A.category),A.stockStatus&&e.append("stockStatus",A.stockStatus),A.search&&e.append("search",A.search);let a=await fetch("/api/inventory?".concat(e.toString()));if(a.ok){let e=(await a.json()).data||[];t(e);let s=[...new Set(e.map(e=>e.categoryName).filter(Boolean))];b(s)}}catch(e){console.error("Error fetching inventory:",e)}},z=async()=>{try{let e=k?"?branchId=".concat(k):"",t=await fetch("/api/inventory/summary".concat(e));if(t.ok){let e=await t.json();console.log("Summary API Response:",e),e.success&&e.data&&r({totalSKUs:parseInt(e.data.total_skus)||0,totalUnits:parseInt(e.data.total_units)||0,totalValue:parseFloat(e.data.total_value)||0,lowStockCount:parseInt(e.data.low_stock_count)||0,outOfStockCount:parseInt(e.data.out_of_stock_count)||0,overstockCount:parseInt(e.data.critical_stock_count)||0})}}catch(e){console.error("Error fetching summary:",e)}},W=async()=>{try{let e=await fetch("/api/inventory/alerts");if(e.ok){let t=await e.json();g(t.data||[])}}catch(e){console.error("Error fetching alerts:",e)}},P=async()=>{if(E.item&&0!==I.quantity)try{(await fetch("/api/inventory/adjust",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:E.item.productId,branchId:E.item.branchId,adjustmentType:I.adjustmentType,quantity:"subtract"===I.adjustmentType?-I.quantity:I.quantity,notes:I.notes,userId:null==R?void 0:R.id})})).ok&&(await U(),await z(),await W(),M({isOpen:!1,item:null}),O({adjustmentType:"add",quantity:0,notes:""}))}catch(e){console.error("Error adjusting stock:",e)}},D=async e=>{try{let t=Math.max(2*e.reorderLevel,50);(await fetch("/api/inventory/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e.productId,branchId:e.branchId,quantity:t,userId:null==R?void 0:R.id})})).ok&&alert("Reorder request created for ".concat(t," units of ").concat(e.productName))}catch(e){console.error("Error creating reorder request:",e)}},H=async(e,t)=>{try{let a=await fetch("/api/inventory/history/".concat(e,"/").concat(t));if(a.ok){let s=await a.json();_({isOpen:!0,productId:e,branchId:t,history:s.data||[]})}}catch(e){console.error("Error fetching inventory history:",e)}},Z=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),F=e.filter(e=>!A.showLowStockOnly||!!["out_of_stock","critical","low"].includes(e.stockStatus));return w?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(i.A,{className:"h-8 w-8 text-indigo-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management Center"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Industry-standard inventory tracking for trading operations"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"All Branches"}),j.map((e,t)=>(0,s.jsx)("option",{value:e.id,children:e.name},"branch-".concat(e.id,"-").concat(t)))]}),(0,s.jsx)("button",{onClick:()=>C(e=>({...e,showLowStockOnly:!e.showLowStockOnly})),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(A.showLowStockOnly?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:A.showLowStockOnly?"Show All":"Low Stock Only"})]})]}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:x.A},{id:"alerts",name:"Alerts",icon:m.A,count:y.length}].map(e=>{let t=e.icon;return(0,s.jsxs)("button",{onClick:()=>q(e.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(T===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,s.jsx)(t,{className:"h-5 w-5 mr-2"}),e.name,void 0!==e.count&&(0,s.jsx)("span",{className:"ml-2 bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:e.count})]},e.id)})})}),"overview"===T&&(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.A,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total SKUs"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:a.totalSKUs})]})]})}),(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 text-green-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Units"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:a.totalUnits.toLocaleString()})]})]})}),(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.A,{className:"h-8 w-8 text-red-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:a.lowStockCount})]})]})}),(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x.A,{className:"h-8 w-8 text-purple-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:Z(a.totalValue)})]})]})}),(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u,{className:"h-8 w-8 text-red-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:a.outOfStockCount})]})]})}),(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d,{className:"h-8 w-8 text-blue-600"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overstock"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:a.overstockCount})]})]})})]}),(0,s.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search products or SKU...",value:A.search,onChange:e=>C(t=>({...t,search:e.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("select",{value:A.category,onChange:e=>C(t=>({...t,category:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Categories"}),v.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{value:A.stockStatus,onChange:e=>C(t=>({...t,stockStatus:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,s.jsx)("option",{value:"out_of_stock",children:"Out of Stock"}),(0,s.jsx)("option",{value:"overstock",children:"Overstock"})]})]})]})}),(0,s.jsxs)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Inventory Items (",F.length,")"]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reorder Level"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[e.imageUrl&&(0,s.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:e.imageUrl,alt:""}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.productName}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.categoryName})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.branchName}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sku}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.currentStock})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.reorderLevel}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat((e=>{switch(e){case"out_of_stock":case"critical":return"bg-red-100 text-red-800 border-red-200";case"low":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"normal":return"bg-green-100 text-green-800 border-green-200";case"overstock":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e.stockStatus)),children:[(e=>{switch(e){case"out_of_stock":case"critical":return(0,s.jsx)(c.A,{className:"h-4 w-4"});case"low":return(0,s.jsx)(o,{className:"h-4 w-4"});case"normal":default:return(0,s.jsx)(i.A,{className:"h-4 w-4"});case"overstock":return(0,s.jsx)(d,{className:"h-4 w-4"})}})(e.stockStatus),(0,s.jsx)("span",{className:"ml-1 capitalize",children:e.stockStatus.replace("_"," ")})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z(parseFloat(e.stockValue))}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,s.jsx)("button",{onClick:()=>M({isOpen:!0,item:e}),className:"text-indigo-600 hover:text-indigo-900",children:"Adjust"}),(0,s.jsx)("button",{onClick:()=>H(e.productId,e.branchId),className:"text-gray-600 hover:text-gray-900",children:"History"}),["out_of_stock","critical","low"].includes(e.stockStatus)&&(0,s.jsx)("button",{onClick:()=>D(e),className:"text-green-600 hover:text-green-900",children:"Reorder"})]})]},"inventory-row-".concat(e.productId,"-").concat(e.branchId,"-").concat(e.sku,"-").concat(Date.now(),"-").concat(Math.random())))})]})}),0===F.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(i.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No inventory items found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:A.search||A.category||A.stockStatus?"Try adjusting your filters.":"Inventory will appear here once products are created."})]})]})]}),"alerts"===T&&(0,s.jsxs)("div",{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-lg",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Inventory Alerts (",y.length,")"]})}),(0,s.jsx)("div",{className:"p-4",children:0===y.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No alerts"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"All inventory levels are healthy."})]}):(0,s.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 text-red-600 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.productName}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.branchName," • Current: ",e.currentStock," • Threshold:"," ",e.threshold]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>M({isOpen:!0,item:e}),className:"px-3 py-1 text-sm bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Adjust Stock"}),(0,s.jsx)("button",{onClick:()=>D(e),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Reorder"})]})]},"alert-row-".concat(e.productId,"-").concat(e.branchId,"-").concat(e.severity,"-").concat(Date.now(),"-").concat(Math.random())))})})]}),E.isOpen&&E.item&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Adjust Stock - ",E.item.productName]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Branch"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:E.item.branchName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Current Stock"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:E.item.currentStock})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Adjustment Type"}),(0,s.jsxs)("select",{value:I.adjustmentType,onChange:e=>O(t=>({...t,adjustmentType:e.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"add",children:"Add Stock"}),(0,s.jsx)("option",{value:"subtract",children:"Reduce Stock"}),(0,s.jsx)("option",{value:"set",children:"Set Stock Level"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),(0,s.jsx)("input",{type:"number",min:"0",value:I.quantity,onChange:e=>O(t=>({...t,quantity:parseInt(e.target.value)||0})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes (Optional)"}),(0,s.jsx)("textarea",{value:I.notes,onChange:e=>O(t=>({...t,notes:e.target.value})),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Reason for adjustment..."})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>{M({isOpen:!1,item:null}),O({adjustmentType:"add",quantity:0,notes:""})},className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:P,disabled:0===I.quantity,className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:"Adjust Stock"})]})]})})}),L.isOpen&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,s.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-2/3 max-w-4xl shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Inventory History"}),(0,s.jsx)("button",{onClick:()=>_({isOpen:!1,productId:null,branchId:null,history:[]}),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Change"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"New Total"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"By"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:L.history.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 capitalize",children:e.transactionType.replace("_"," ")}),(0,s.jsx)("td",{className:"px-4 py-2 text-sm",children:(0,s.jsxs)("span",{className:e.quantityChange>=0?"text-green-600":"text-red-600",children:[e.quantityChange>=0?"+":"",e.quantityChange]})}),(0,s.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.newQuantity}),(0,s.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600",children:e.createdBy}),(0,s.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600",children:e.notes})]},e.id))})]})}),0===L.history.length&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"No history records found."})})]})})})]})}function g(){return(0,s.jsx)(r.N,{title:"Inventory Management",description:"Stock and inventory control",activeDomain:"products",children:(0,s.jsx)(y,{})})}},2826:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(4);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))})},3488:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4714:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(4);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))})},5331:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(4);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))})},5374:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(4);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},5595:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5640:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/inventory-management",function(){return a(2533)}])},6340:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(4);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},6417:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6598:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(4);let r=s.forwardRef(function(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))})},8798:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},8967:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},9461:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},9894:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5935).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[9257,4751,636,6593,8792],()=>e(e.s=5640)),_N_E=e.O()}]);