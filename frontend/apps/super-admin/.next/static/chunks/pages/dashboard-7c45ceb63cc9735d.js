(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9724],{144:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(1371)}])},347:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>l,ZB:()=>n,Zp:()=>r,aR:()=>i});var t=a(72);a(4);let r=e=>{let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"bg-white border rounded-lg shadow ".concat(a),children:s})},i=e=>{let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"px-6 py-4 border-b ".concat(a),children:s})},n=e=>{let{children:s,className:a=""}=e;return(0,t.jsx)("h3",{className:"text-lg font-semibold ".concat(a),children:s})},c=e=>{let{children:s,className:a=""}=e;return(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1 ".concat(a),children:s})},l=e=>{let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"px-6 py-4 ".concat(a),children:s})}},1371:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ei});var t=a(72),r=a(4),i=a(6316),n=a.n(i),c=a(2159),l=a(4960),d=a(347),o=a(3413),m=a(4206),x=a(9894),h=a(3831),u=a(1436),p=a(5595);function j(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[j,g]=(0,r.useState)("users");(0,r.useEffect)(()=>{v()},[]);let v=async()=>{try{c(!0);let[e,a]=await Promise.all([l.uE.get("/api/direct-data/users"),l.uE.get("/api/direct-data/roles")]);s(e||[]),i(a||[])}catch(e){console.error("Failed to fetch user/role data:",e)}finally{c(!1)}};return n?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading user management..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"User & Role Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage system users, roles, and permissions"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{onClick:()=>g("users"),variant:"users"===j?"default":"outline",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Users (",e.length,")"]}),(0,t.jsxs)(o.$,{onClick:()=>g("roles"),variant:"roles"===j?"default":"outline",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Roles (",a.length,")"]})]})]}),"users"===j&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"System Users"}),(0,t.jsxs)(o.$,{children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,t.jsx)(d.Zp,{children:(0,t.jsx)(d.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,t.jsx)(x.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold",children:[e.firstName," ",e.lastName]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,t.jsx)(m.E,{variant:"secondary",children:e.role}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsx)(p.A,{className:"w-4 h-4"})})]})]})})},e.id))})]}),"roles"===j&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"System Roles"}),(0,t.jsxs)(o.$,{children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Create Role"]})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[e.name,(0,t.jsxs)(m.E,{children:[e.userCount," users"]})]}),(0,t.jsx)(d.BT,{children:e.description})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Permissions:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.permissions.slice(0,3).map((e,s)=>(0,t.jsx)(m.E,{variant:"secondary",className:"text-xs",children:e},s)),e.permissions.length>3&&(0,t.jsxs)(m.E,{variant:"secondary",className:"text-xs",children:["+",e.permissions.length-3," more"]})]})]})})]},e.id))})]})]})}var g=a(1703),v=a(8798),y=a(1830),f=a(2489),N=a(163),b=a(9825),w=a(2135);function A(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[h,u]=(0,r.useState)("companies"),[j,g]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{A()},[]);let A=async()=>{try{c(!0);let[e,a]=await Promise.all([l.uE.get("/api/direct-data/companies"),l.uE.get("/api/direct-data/branches")]);s(e||[]),i(a||[])}catch(e){console.error("Failed to fetch company/branch data:",e)}finally{c(!1)}},k=async e=>{try{await l.uE.post("/api/company-management/companies",e),A(),g(!1)}catch(e){console.error("Failed to create company:",e)}},E=async e=>{try{await l.uE.post("/api/company-management/branches",e),A(),g(!1)}catch(e){console.error("Failed to create branch:",e)}},F=async e=>{try{await l.uE.delete("/api/company-management/companies/".concat(e)),A()}catch(e){console.error("Failed to delete company:",e)}},P=async e=>{try{await l.uE.delete("/api/company-management/branches/".concat(e)),A()}catch(e){console.error("Failed to delete branch:",e)}};return n?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading company management..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Company & Branch Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage companies, branches, and organizational hierarchy"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{onClick:()=>u("companies"),variant:"companies"===h?"default":"outline",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Companies (",e.length,")"]}),(0,t.jsxs)(o.$,{onClick:()=>u("branches"),variant:"branches"===h?"default":"outline",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Branches (",a.length,")"]})]})]}),"companies"===h&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Companies"}),(0,t.jsxs)(o.$,{onClick:()=>g(!j),children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),j&&(0,t.jsxs)(d.Zp,{className:"mb-4",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Create New Company"}),(0,t.jsx)(d.BT,{children:"Add a new company to the system"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(C,{onSubmit:k})})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:e.name})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,t.jsx)(o.$,{variant:"destructive",size:"sm",onClick:()=>F(e.id),children:(0,t.jsx)(N.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)(d.BT,{children:e.description})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),e.address]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),e.branchCount," branches"]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsx)(m.E,{variant:"secondary",children:e.phone}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsx)(p.A,{className:"w-4 h-4"})})]})]})})]},e.id))})]}),"branches"===h&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Branches"}),(0,t.jsxs)(o.$,{onClick:()=>g(!j),children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Add Branch"]})]}),j&&(0,t.jsxs)(d.Zp,{className:"mb-4",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Create New Branch"}),(0,t.jsx)(d.BT,{children:"Add a new branch to a company"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(S,{companies:e,onSubmit:E})})]}),(0,t.jsx)("div",{className:"grid gap-4",children:a.map(e=>(0,t.jsx)(d.Zp,{children:(0,t.jsx)(d.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,t.jsx)(y.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.companyName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.address})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,t.jsxs)(m.E,{variant:"secondary",children:[e.employeeCount," employees"]}),(0,t.jsx)(o.$,{variant:"destructive",size:"sm",onClick:()=>P(e.id),children:(0,t.jsx)(N.A,{className:"w-4 h-4"})})]})]})})},e.id))})]})]})}function C(e){let{onSubmit:s}=e,[a,i]=(0,r.useState)({name:"",description:"",address:"",phone:"",email:"",website:""});return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(a)},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"name",children:"Company Name"}),(0,t.jsx)(g.p,{id:"name",value:a.name,onChange:e=>i({...a,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(w.T,{id:"description",value:a.description,onChange:e=>i({...a,description:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"address",children:"Address"}),(0,t.jsx)(w.T,{id:"address",value:a.address,onChange:e=>i({...a,address:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"phone",children:"Phone"}),(0,t.jsx)(g.p,{id:"phone",value:a.phone,onChange:e=>i({...a,phone:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(g.p,{id:"email",type:"email",value:a.email,onChange:e=>i({...a,email:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"website",children:"Website"}),(0,t.jsx)(g.p,{id:"website",value:a.website,onChange:e=>i({...a,website:e.target.value})})]}),(0,t.jsx)(o.$,{type:"submit",className:"w-full",children:"Create Company"})]})}function S(e){let{companies:s,onSubmit:a}=e,[i,n]=(0,r.useState)({name:"",companyId:"",address:"",phone:"",managerName:""});return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(i)},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"branchName",children:"Branch Name"}),(0,t.jsx)(g.p,{id:"branchName",value:i.name,onChange:e=>n({...i,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"companyId",children:"Company"}),(0,t.jsxs)("select",{id:"companyId",value:i.companyId,onChange:e=>n({...i,companyId:e.target.value}),className:"w-full p-2 border rounded",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Company"}),s.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"branchAddress",children:"Address"}),(0,t.jsx)(w.T,{id:"branchAddress",value:i.address,onChange:e=>n({...i,address:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"branchPhone",children:"Phone"}),(0,t.jsx)(g.p,{id:"branchPhone",value:i.phone,onChange:e=>n({...i,phone:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"managerName",children:"Manager Name"}),(0,t.jsx)(g.p,{id:"managerName",value:i.managerName,onChange:e=>n({...i,managerName:e.target.value})})]})]}),(0,t.jsx)(o.$,{type:"submit",className:"w-full",children:"Create Branch"})]})}var k=a(5814),E=a(402),F=a(4403),P=a(6383),R=a(9998);function $(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[x,h]=(0,r.useState)("products"),[u,p]=(0,r.useState)(""),[j,v]=(0,r.useState)("all"),[y,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{w()},[]);let w=async()=>{try{c(!0);let[e,a]=await Promise.all([l.uE.get("/api/direct-data/products",{search:u,category:j}),l.uE.get("/api/direct-data/categories")]);s(e||[]),i(a||[])}catch(e){console.error("Failed to fetch catalog data:",e)}finally{c(!1)}};(0,r.useEffect)(()=>{w()},[u,j]);let A=async e=>{try{await l.uE.post("/api/direct-data/products",e),w(),b(!1)}catch(e){console.error("Failed to create product:",e)}},C=async e=>{try{await l.uE.delete("/api/direct-data/products/".concat(e)),w()}catch(e){console.error("Failed to delete product:",e)}},S=async e=>{try{await l.uE.post("/api/direct-data/categories",e),w(),b(!1)}catch(e){console.error("Failed to create category:",e)}},$=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase())||e.sku.toLowerCase().includes(u.toLowerCase()));return n?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading catalog management..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Product Catalog Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage products, categories, and inventory"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{onClick:()=>h("products"),variant:"products"===x?"default":"outline",children:[(0,t.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"Products (",e.length,")"]}),(0,t.jsxs)(o.$,{onClick:()=>h("categories"),variant:"categories"===x?"default":"outline",children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Categories (",a.length,")"]})]})]}),"products"===x&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(g.p,{placeholder:"Search products by name, description, or SKU...",value:u,onChange:e=>p(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,t.jsx)("option",{value:"all",children:"All Categories"}),a.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsxs)(o.$,{onClick:()=>b(!y),children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),y&&(0,t.jsxs)(d.Zp,{className:"mb-4",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Create New Product"}),(0,t.jsx)(d.BT,{children:"Add a new product to the catalog"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(B,{categories:a,onSubmit:A})})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:$.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsx)(F.A,{className:"w-4 h-4"})}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsx)(P.A,{className:"w-4 h-4"})}),(0,t.jsx)(o.$,{variant:"destructive",size:"sm",onClick:()=>C(e.id),children:(0,t.jsx)(N.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)(d.BT,{className:"line-clamp-2",children:e.description})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(m.E,{variant:"secondary",children:e.category}),(0,t.jsx)(m.E,{variant:"active"===e.status?"default":"out_of_stock"===e.status?"destructive":"secondary",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku]}),(0,t.jsxs)("span",{className:"font-semibold text-lg flex items-center",children:[(0,t.jsx)(R.A,{className:"w-4 h-4"}),e.price.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Stock: ",e.stock]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e.weight,"kg"]})]}),e.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((e,s)=>(0,t.jsx)(m.E,{variant:"secondary",className:"text-xs",children:e},s)),e.tags.length>3&&(0,t.jsxs)(m.E,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3]})]})]})})]},e.id))})]}),"categories"===x&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Product Categories"}),(0,t.jsxs)(o.$,{onClick:()=>b(!y),children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),y&&(0,t.jsxs)(d.Zp,{className:"mb-4",children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Create New Category"}),(0,t.jsx)(d.BT,{children:"Add a new product category"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(L,{onSubmit:S})})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[e.name,(0,t.jsx)(m.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,t.jsx)(d.BT,{children:e.description})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.productCount," products"]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsx)(P.A,{className:"w-4 h-4"})}),(0,t.jsx)(o.$,{variant:"destructive",size:"sm",children:(0,t.jsx)(N.A,{className:"w-4 h-4"})})]})]})})]},e.id))})]})]})}function B(e){let{categories:s,onSubmit:a}=e,[i,n]=(0,r.useState)({name:"",description:"",category:"",price:0,sku:"",stock:0,weight:0,dimensions:"",tags:""});return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({...i,tags:i.tags.split(",").map(e=>e.trim()).filter(e=>e)})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"name",children:"Product Name"}),(0,t.jsx)(g.p,{id:"name",value:i.name,onChange:e=>n({...i,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"sku",children:"SKU"}),(0,t.jsx)(g.p,{id:"sku",value:i.sku,onChange:e=>n({...i,sku:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(w.T,{id:"description",value:i.description,onChange:e=>n({...i,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"category",children:"Category"}),(0,t.jsxs)("select",{id:"category",value:i.category,onChange:e=>n({...i,category:e.target.value}),className:"w-full p-2 border rounded",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Category"}),s.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"price",children:"Price ($)"}),(0,t.jsx)(g.p,{id:"price",type:"number",step:"0.01",value:i.price,onChange:e=>n({...i,price:parseFloat(e.target.value)}),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"stock",children:"Stock"}),(0,t.jsx)(g.p,{id:"stock",type:"number",value:i.stock,onChange:e=>n({...i,stock:parseInt(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"weight",children:"Weight (kg)"}),(0,t.jsx)(g.p,{id:"weight",type:"number",step:"0.1",value:i.weight,onChange:e=>n({...i,weight:parseFloat(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"dimensions",children:"Dimensions"}),(0,t.jsx)(g.p,{id:"dimensions",value:i.dimensions,onChange:e=>n({...i,dimensions:e.target.value}),placeholder:"L x W x H"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,t.jsx)(g.p,{id:"tags",value:i.tags,onChange:e=>n({...i,tags:e.target.value}),placeholder:"organic, fresh, local"})]}),(0,t.jsx)(o.$,{type:"submit",className:"w-full",children:"Create Product"})]})}function L(e){let{onSubmit:s}=e,[a,i]=(0,r.useState)({name:"",description:""});return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(a)},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"categoryName",children:"Category Name"}),(0,t.jsx)(g.p,{id:"categoryName",value:a.name,onChange:e=>i({...a,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(b.J,{htmlFor:"categoryDescription",children:"Description"}),(0,t.jsx)(w.T,{id:"categoryDescription",value:a.description,onChange:e=>i({...a,description:e.target.value})})]}),(0,t.jsx)(o.$,{type:"submit",className:"w-full",children:"Create Category"})]})}var T=a(1531),Z=a(3361),D=a(8948),W=a(8492),M=a(4081);function J(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[n,c]=(0,r.useState)("all"),[x,h]=(0,r.useState)(""),[u,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{j()},[n,x]);let j=async()=>{try{i(!0);let e=await l.uE.get("/api/direct-data/orders",{status:"all"!==n?n:void 0,search:x});s(e||[])}catch(e){console.error("Failed to fetch orders:",e)}finally{i(!1)}},v=async(e,s)=>{try{await l.uE.put("/api/direct-data/orders/".concat(e),{status:s}),j()}catch(e){console.error("Failed to update order status:",e)}},f=async e=>{try{await l.uE.post("/api/direct-data/orders/".concat(e,"/payment"),{action:"process"}),j()}catch(e){console.error("Failed to process payment:",e)}},N=e.filter(e=>e.orderNumber.toLowerCase().includes(x.toLowerCase())||e.customerName.toLowerCase().includes(x.toLowerCase())||e.customerEmail.toLowerCase().includes(x.toLowerCase()));return a?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading order management..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Order Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Track and manage customer orders, payments, and fulfillment"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(m.E,{variant:"secondary",className:"text-sm",children:[(0,t.jsx)(T.A,{className:"w-4 h-4 mr-1"}),e.length," Total Orders"]}),(0,t.jsxs)(m.E,{variant:"secondary",className:"text-sm",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 mr-1"}),"$",e.reduce((e,s)=>e+s.totalAmount,0).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(g.p,{placeholder:"Search by order number, customer name, or email...",value:x,onChange:e=>h(e.target.value)})}),(0,t.jsxs)("select",{value:n,onChange:e=>c(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,t.jsx)("option",{value:"all",children:"All Orders"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,t.jsx)("option",{value:"processing",children:"Processing"}),(0,t.jsx)("option",{value:"shipped",children:"Shipped"}),(0,t.jsx)("option",{value:"delivered",children:"Delivered"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:N.map(e=>(0,t.jsx)("div",{onClick:()=>p(e),className:"cursor-pointer",children:(0,t.jsxs)(d.Zp,{className:"hover:bg-accent/50",children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,t.jsx)(T.A,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.ZB,{className:"text-lg",children:e.orderNumber}),(0,t.jsxs)(d.BT,{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.customerName}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:e.customerEmail})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.E,{variant:(e=>{switch(e){case"pending":default:return"secondary";case"confirmed":case"processing":case"shipped":case"delivered":return"default";case"cancelled":return"destructive"}})(e.status),children:e.status}),(0,t.jsx)(m.E,{variant:(e=>{switch(e){case"paid":return"default";case"pending":case"refunded":default:return"secondary";case"failed":return"destructive"}})(e.paymentStatus),children:e.paymentStatus})]})]})}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.A,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:[e.itemCount," items"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["$",e.totalAmount.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(D.A,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:[e.shippingAddress.city,", ",e.shippingAddress.state]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:["pending"===e.status&&(0,t.jsxs)(o.$,{size:"sm",onClick:s=>{s.stopPropagation(),v(e.id,"confirmed")},children:[(0,t.jsx)(W.A,{className:"w-4 h-4 mr-1"}),"Confirm"]}),"confirmed"===e.status&&(0,t.jsxs)(o.$,{size:"sm",onClick:s=>{s.stopPropagation(),v(e.id,"processing")},children:[(0,t.jsx)(k.A,{className:"w-4 h-4 mr-1"}),"Process"]}),"processing"===e.status&&(0,t.jsxs)(o.$,{size:"sm",onClick:s=>{s.stopPropagation(),v(e.id,"shipped")},children:[(0,t.jsx)(M.A,{className:"w-4 h-4 mr-1"}),"Ship"]}),"pending"===e.paymentStatus&&(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),f(e.id)},children:[(0,t.jsx)(R.A,{className:"w-4 h-4 mr-1"}),"Process Payment"]})]})]})]})},e.id))}),u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold",children:["Order Details: ",u.orderNumber]}),(0,t.jsx)(o.$,{variant:"outline",onClick:()=>p(null),children:"\xd7"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{children:"Customer Information"})}),(0,t.jsxs)(d.Wu,{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",u.customerName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",u.customerEmail]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Order Date:"})," ",new Date(u.createdAt).toLocaleString()]})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{children:"Shipping Address"})}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("p",{children:u.shippingAddress.street}),(0,t.jsxs)("p",{children:[u.shippingAddress.city,", ",u.shippingAddress.state," ",u.shippingAddress.zipCode]}),(0,t.jsx)("p",{children:u.shippingAddress.country})]})]}),(0,t.jsxs)(d.Zp,{className:"md:col-span-2",children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{children:"Order Items"})}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"space-y-3",children:u.items.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.productName}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",e.quantity]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-medium",children:["$",e.totalPrice.toFixed(2)]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.unitPrice.toFixed(2)," each"]})]})]},e.id))}),(0,t.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,t.jsxs)("div",{className:"flex justify-between items-center font-bold text-lg",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{children:["$",u.totalAmount.toFixed(2)]})]})})]})]})]})]})})})]})}var O=a(5271),U=a(86),q=a(4555),z=a(8628);function I(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[n,c]=(0,r.useState)([]),[h,u]=(0,r.useState)(!0),[p,j]=(0,r.useState)("dashboard"),[g,v]=(0,r.useState)("7d");(0,r.useEffect)(()=>{y()},[g]);let y=async()=>{try{u(!0);let[e,a,t]=await Promise.all([l.uE.get("/api/analytics-reporting/metrics",{period:g}),l.uE.get("/api/analytics-reporting/reports"),l.uE.get("/api/analytics-reporting/sales",{period:g})]);s(e||[]),i(a||[]),c(t||[])}catch(e){console.error("Failed to fetch analytics data:",e),s([{id:"1",metric:"Total Revenue",value:45678.9,previousValue:42341.25,changePercentage:7.9,trend:"up",period:g,category:"financial"},{id:"2",metric:"Total Orders",value:234,previousValue:198,changePercentage:18.2,trend:"up",period:g,category:"sales"},{id:"3",metric:"Active Customers",value:1847,previousValue:1623,changePercentage:13.8,trend:"up",period:g,category:"customer"},{id:"4",metric:"Products Sold",value:847,previousValue:692,changePercentage:22.4,trend:"up",period:g,category:"inventory"}]),i([{id:"1",name:"Daily Sales Report",description:"Comprehensive daily sales and revenue analysis",type:"sales",frequency:"daily",lastGenerated:new Date().toISOString(),status:"active",recipients:["admin@leafyhealth.com","sales@leafyhealth.com"]},{id:"2",name:"Customer Growth Analysis",description:"Weekly customer acquisition and retention metrics",type:"customer",frequency:"weekly",lastGenerated:new Date(Date.now()-864e5).toISOString(),status:"active",recipients:["marketing@leafyhealth.com"]}])}finally{u(!1)}},f=async e=>{try{await l.uE.post("/api/analytics-reporting/reports/".concat(e,"/generate")),y()}catch(e){console.error("Failed to generate report:",e)}};return h?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading analytics dashboard..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Analytics & Reporting"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Business intelligence, metrics, and automated reporting"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,t.jsx)("option",{value:"1d",children:"Last 24 Hours"}),(0,t.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,t.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,t.jsx)("option",{value:"90d",children:"Last 90 Days"})]}),(0,t.jsxs)(o.$,{onClick:()=>j("dashboard"),variant:"dashboard"===p?"default":"outline",children:[(0,t.jsx)(q.A,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,t.jsxs)(o.$,{onClick:()=>j("reports"),variant:"reports"===p?"default":"outline",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Reports"]})]})]}),"dashboard"===p&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:e.map(e=>{var s,a;return(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:e.metric}),(e=>{switch(e){case"financial":return(0,t.jsx)(R.A,{className:"w-5 h-5"});case"sales":return(0,t.jsx)(T.A,{className:"w-5 h-5"});case"customer":return(0,t.jsx)(x.A,{className:"w-5 h-5"});case"inventory":return(0,t.jsx)(k.A,{className:"w-5 h-5"});default:return(0,t.jsx)(q.A,{className:"w-5 h-5"})}})(e.category)]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(s=e.value,(a=e.metric).toLowerCase().includes("revenue")||a.toLowerCase().includes("value")?"$".concat(s.toLocaleString()):s.toLocaleString())}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(e=>{switch(e){case"up":return(0,t.jsx)(O.A,{className:"w-4 h-4 text-green-500"});case"down":return(0,t.jsx)(U.A,{className:"w-4 h-4 text-red-500"});default:return(0,t.jsx)(q.A,{className:"w-4 h-4 text-gray-500"})}})(e.trend),(0,t.jsxs)("span",{className:e.changePercentage>0?"text-green-600":"text-red-600",children:[e.changePercentage>0?"+":"",e.changePercentage.toFixed(1),"%"]}),(0,t.jsxs)("span",{children:["from previous ",e.period]})]})]})]},e.id)})}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Top Performing Categories"}),(0,t.jsx)(d.BT,{children:"Sales by product category"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{name:"Organic Vegetables",sales:15420,percentage:34},{name:"Fresh Fruits",sales:12380,percentage:27},{name:"Dairy Products",sales:9250,percentage:20},{name:"Grains & Cereals",sales:8630,percentage:19}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-primary",style:{opacity:1-.2*s}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm font-bold",children:["$",e.sales.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.percentage,"%"]})]})]},s))})})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Customer Acquisition"}),(0,t.jsx)(d.BT,{children:"New customers over time"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{period:"This Week",count:47,growth:12.5},{period:"Last Week",count:42,growth:8.3},{period:"2 Weeks Ago",count:39,growth:-2.1},{period:"3 Weeks Ago",count:40,growth:15.4}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:e.period})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm font-bold",children:[e.count," customers"]}),(0,t.jsxs)("div",{className:"text-xs ".concat(e.growth>0?"text-green-600":"text-red-600"),children:[e.growth>0?"+":"",e.growth.toFixed(1),"%"]})]})]},s))})})]})]})]}),"reports"===p&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Automated Reports"}),(0,t.jsxs)(o.$,{children:[(0,t.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Schedule Report"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:a.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.ZB,{children:e.name}),(0,t.jsx)(d.BT,{children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.E,{variant:"active"===e.status?"default":"secondary",children:e.status}),(0,t.jsx)(m.E,{variant:"secondary",children:e.frequency})]})]})}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Last generated: ",new Date(e.lastGenerated).toLocaleString()]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>f(e.id),children:"Generate Now"}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:"Configure"})]})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Recipients: "}),(0,t.jsx)("span",{className:"text-sm",children:e.recipients.join(", ")})]})]})]},e.id))})]})]})}let _={async getSystemMetrics(){try{let[e,s]=await Promise.all([l.uE.get("/api/direct-data/system/stats"),l.uE.get("/api/direct-data/microservices/health")]);return{totalMicroservices:26,runningServices:(null==s?void 0:s.running)||25,totalUsers:(null==e?void 0:e.totalUsers)||0,totalCustomers:(null==e?void 0:e.totalCustomers)||0,totalInternalUsers:(null==e?void 0:e.totalUsers)||0,totalBranches:(null==e?void 0:e.totalBranches)||0,totalCompanies:(null==e?void 0:e.totalCompanies)||0,totalProducts:(null==e?void 0:e.totalProducts)||0,totalOrders:(null==e?void 0:e.totalOrders)||0,totalRevenue:(null==e?void 0:e.totalRevenue)||0,systemHealth:(null==s?void 0:s.health)||"Healthy",databaseConnections:(null==s?void 0:s.dbConnections)||5,uptime:(null==s?void 0:s.uptime)||"24h+"}}catch(e){throw console.error("Failed to fetch system metrics:",e),e}},async getMicroserviceStatus(){try{return await l.uE.get("/api/direct-data/microservices/status")||[]}catch(e){throw console.error("Failed to fetch microservice status:",e),e}},async getRecentActivity(){try{return await l.uE.get("/api/direct-data/activity/recent")||[]}catch(e){return console.error("Failed to fetch recent activity:",e),[]}},async getSystemAlerts(){try{return await l.uE.get("/api/direct-data/alerts/system")||[]}catch(e){return console.error("Failed to fetch system alerts:",e),[]}},async getDashboardData(){try{let[e,s,a,t]=await Promise.all([this.getSystemMetrics(),this.getMicroserviceStatus(),this.getRecentActivity(),this.getSystemAlerts()]);return{metrics:e,microservices:s,recentActivity:a,alerts:t}}catch(e){throw console.error("Failed to fetch dashboard data:",e),e}}};var H=a(7471),G=a(5374),V=a(5565),K=a(5908),Q=a(4532),X=a(8489),Y=a(7548),ee=a(2826),es=a(4714),ea=a(9852),et=a(4875),er=a(5331);function ei(){var e;let[s,a]=(0,r.useState)([]),[i,l]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),[m,x]=(0,r.useState)("dashboard"),{user:h,isAuthenticated:u,isLoading:p}=(0,c.n)(),g={"user-role-management":j,"company-management":A,"catalog-management":$,"order-management":J,"analytics-reporting":I};(0,r.useEffect)(()=>{u?v():o(!1)},[u]);let v=async()=>{try{let[e,s]=await Promise.all([_.getSystemMetrics(),_.getMicroserviceStatus()]);l(e),a(s)}catch(e){console.error("Failed to fetch system status:",e),a([{name:"auth",status:"running",port:8085,category:"security",description:"Authentication service",uptime:"24h+",health:"healthy",lastResponse:45},{name:"company-management",status:"running",port:3013,category:"core",description:"Company management service",uptime:"24h+",health:"healthy",lastResponse:41},{name:"catalog-management",status:"running",port:3022,category:"ecommerce",description:"Product catalog service",uptime:"24h+",health:"healthy",lastResponse:38},{name:"order-management",status:"running",port:3023,category:"ecommerce",description:"Order processing service",uptime:"24h+",health:"healthy",lastResponse:42}]),l({totalMicroservices:26,runningServices:25,totalUsers:47,totalCustomers:1847,totalInternalUsers:23,totalBranches:12,totalCompanies:3,totalProducts:847,totalOrders:234,totalRevenue:45678.9,systemHealth:"Healthy",databaseConnections:5,uptime:"24h+"})}finally{o(!1)}};if("dashboard"!==m&&g[m]){let e=g[m];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{children:(0,t.jsxs)("title",{children:["LeafyHealth Super Admin -"," ",m.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())]})}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,t.jsx)("button",{onClick:()=>x("dashboard"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"← Back to Dashboard"})}),(0,t.jsx)(e,{})]})})]})}if(d)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading system status..."})]})});if(!u&&!p)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Please log in to access the Super Admin Dashboard"}),(0,t.jsx)("a",{href:"/login",className:"mt-4 inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Go to Login"})]})});let y=s.reduce((e,s)=>{var a;let t=(a=s.name).includes("auth")||a.includes("identity")?"security":a.includes("company")||a.includes("user")||a.includes("role")?"core":a.includes("catalog")||a.includes("inventory")||a.includes("order")?"ecommerce":a.includes("payment")||a.includes("accounting")||a.includes("expense")?"finance":a.includes("analytics")||a.includes("reporting")||a.includes("performance")?"analytics":a.includes("content")||a.includes("image")||a.includes("label")?"content":a.includes("shipping")||a.includes("delivery")?"logistics":a.includes("notification")||a.includes("customer-service")?"communication":"other";return e[t]||(e[t]=[]),e[t].push(s),e},{});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{children:(0,t.jsx)("title",{children:"LeafyHealth Super Admin Dashboard"})}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Super Admin Dashboard"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Comprehensive microservices management for LeafyHealth platform"})]}),h&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Welcome back"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:h.email||"Super Admin"})]})]}),i&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(Q.A,{className:"h-12 w-12 text-blue-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Microservices"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[i.runningServices,"/",i.totalMicroservices]})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(et.A,{className:"h-12 w-12 text-green-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:i.totalUsers})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(X.A,{className:"h-12 w-12 text-purple-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:i.totalOrders})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(Y.A,{className:"h-12 w-12 text-green-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null==(e=i.totalRevenue)?void 0:e.toFixed(2))||"0"]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Microservice Management"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("button",{onClick:()=>x("user-role-management"),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,t.jsx)(et.A,{className:"h-8 w-8 text-blue-600 mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"User & Role Management"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage users, roles, and permissions"})]}),(0,t.jsxs)("button",{onClick:()=>x("company-management"),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,t.jsx)(er.A,{className:"h-8 w-8 text-green-600 mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Company Management"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage companies and branches"})]}),(0,t.jsxs)("button",{onClick:()=>x("catalog-management"),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,t.jsx)(es.A,{className:"h-8 w-8 text-purple-600 mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Catalog Management"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Manage products and categories"})]}),(0,t.jsxs)("button",{onClick:()=>x("order-management"),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,t.jsx)(X.A,{className:"h-8 w-8 text-orange-600 mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Order Management"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Track orders and fulfillment"})]}),(0,t.jsxs)("button",{onClick:()=>x("analytics-reporting"),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,t.jsx)(ee.A,{className:"h-8 w-8 text-indigo-600 mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Analytics & Reporting"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Business intelligence and reports"})]}),(0,t.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[(0,t.jsx)(ea.A,{className:"h-8 w-8 text-orange-600 mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Shipping & Delivery"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Logistics and delivery management"})]})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(y).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(e=>{switch(e){case"security":return(0,t.jsx)(K.A,{className:"h-6 w-6 text-red-600"});case"core":return(0,t.jsx)(Q.A,{className:"h-6 w-6 text-blue-600"});case"ecommerce":return(0,t.jsx)(X.A,{className:"h-6 w-6 text-green-600"});case"finance":return(0,t.jsx)(Y.A,{className:"h-6 w-6 text-yellow-600"});case"analytics":return(0,t.jsx)(ee.A,{className:"h-6 w-6 text-purple-600"});case"content":return(0,t.jsx)(es.A,{className:"h-6 w-6 text-indigo-600"});case"logistics":return(0,t.jsx)(ea.A,{className:"h-6 w-6 text-orange-600"});case"communication":return(0,t.jsx)(et.A,{className:"h-6 w-6 text-pink-600"});default:return(0,t.jsx)(Q.A,{className:"h-6 w-6 text-gray-600"})}})(s),(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[s," Services"]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a.length,")"]})]})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Port: ",e.port]})]}),(0,t.jsxs)("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e.toLowerCase()){case"running":return"text-green-600 bg-green-100";case"stopped":return"text-red-600 bg-red-100";case"warning":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}})(e.status)),children:[(e=>{switch(e.toLowerCase()){case"running":return(0,t.jsx)(H.A,{className:"h-4 w-4"});case"stopped":return(0,t.jsx)(G.A,{className:"h-4 w-4"});default:return(0,t.jsx)(V.A,{className:"h-4 w-4"})}})(e.status),(0,t.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})]}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Uptime: ",e.uptime]})]},e.name))})})]},s)})})]})})})]})}},1703:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(72);let r=a(4).forwardRef((e,s)=>{let{className:a="",...r}=e;return(0,t.jsx)("input",{ref:s,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ".concat(a),...r})});r.displayName="Input"},2135:(e,s,a)=>{"use strict";a.d(s,{T:()=>n});var t=a(72),r=a(4),i=a(4018);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});n.displayName="Textarea"},3413:(e,s,a)=>{"use strict";a.d(s,{$:()=>r});var t=a(72);let r=a(4).forwardRef((e,s)=>{let{children:a,className:r="",size:i="md",variant:n="default",...c}=e;return(0,t.jsx)("button",{ref:s,className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[i]," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",destructive:"bg-red-600 text-white hover:bg-red-700"}[n]," disabled:opacity-50 disabled:cursor-not-allowed ").concat(r),...c,children:a})});r.displayName="Button"},4018:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(115),r=a(7399);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},4206:(e,s,a)=>{"use strict";a.d(s,{E:()=>r});var t=a(72);a(4);let r=e=>{let{children:s,variant:a="default",className:r=""}=e;return(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({default:"bg-blue-100 text-blue-800",secondary:"bg-gray-100 text-gray-800",destructive:"bg-red-100 text-red-800"}[a]," ").concat(r),children:s})}},4960:(e,s,a)=>{"use strict";a.d(s,{uE:()=>i});class t extends Error{constructor(e,s,a){super(e),this.name="APIError",this.status=s,this.response=a}}class r{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(this.baseURL).concat(e),r={headers:{...this.defaultHeaders,...s.headers},credentials:"include",...s};try{let e=await fetch(a,r);if(!e.ok){let s="HTTP ".concat(e.status,": ").concat(e.statusText),a=null;try{s=(a=await e.json()).message||s}catch(e){}throw new t(s,e.status,a)}let s=e.headers.get("content-type");if(s&&s.includes("application/json"))return await e.json();return await e.text()}catch(e){if(e instanceof t)throw e;throw new t("Network error: ".concat(e.message),0,null)}}async get(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(e,"http://localhost");return Object.keys(s).forEach(e=>{void 0!==s[e]&&null!==s[e]&&a.searchParams.append(e,s[e])}),this.request(a.pathname+a.search)}async post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async patch(e,s){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0})}constructor(e=""){this.baseURL=e,this.defaultHeaders={"Content-Type":"application/json"}}}let i=new r},9825:(e,s,a)=>{"use strict";a.d(s,{J:()=>r});var t=a(72);a(4);let r=e=>{let{className:s="",children:a,...r}=e;return(0,t.jsx)("label",{className:"".concat("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"," ").concat(s),...r,children:a})}}},e=>{e.O(0,[9257,8395,636,6593,8792],()=>e(e.s=144)),_N_E=e.O()}]);