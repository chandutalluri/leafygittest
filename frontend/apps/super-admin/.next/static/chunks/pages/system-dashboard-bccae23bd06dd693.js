(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5240],{914:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var n=s(72),a=s(4),r=s(6316),i=s.n(r),m=s(2159),l=s(4532),c=s(5331),o=s(8489),d=s(2826),g=s(8887),x=s(5908),p=s(1256),h=s(4875),u=s(9817),j=s(4714),v=s(340),f=s(8482),N=s(9852),y=s(6598),b=s(7545),A=s(5565),w=s(7364),S=s(8699),k=s(6535),_=s(7859),C=s(7471),T=s(423),E=s(5374);let R={"Core Services":["authentication","identity-access","user-role-management"],"Business Management":["company-management","catalog-management","inventory-management"],Operations:["order-management","payment-processing","shipping-delivery","customer-service"],"Analytics & Reporting":["analytics-reporting","performance-monitor","reporting-management"],"Content & Media":["content-management","image-management","label-design"],"Integration & Compliance":["integration-hub","compliance-audit","marketplace-management"],"System Support":["notification-service","employee-management","accounting-management","expense-monitoring","subscription-management","multi-language-management"]},M={"Core Services":l.A,"Business Management":c.A,Operations:o.A,"Analytics & Reporting":d.A,"Content & Media":g.A,"Integration & Compliance":x.A,"System Support":p.A},O={authentication:l.A,"identity-access":h.A,"user-role-management":u.A,"company-management":c.A,"catalog-management":j.A,"inventory-management":v.A,"order-management":o.A,"payment-processing":f.A,"shipping-delivery":N.A,"customer-service":h.A,"notification-service":y.A,"employee-management":h.A,"accounting-management":b.A,"expense-monitoring":d.A,"analytics-reporting":d.A,"performance-monitor":A.A,"reporting-management":w.A,"content-management":b.A,"image-management":g.A,"label-design":S.A,"marketplace-management":k.A,"subscription-management":b.A,"multi-language-management":k.A,"compliance-audit":x.A,"integration-hub":_.A};function I(){let{user:e,logout:t}=(0,m.n)(),[s,r]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0),[d,g]=(0,a.useState)({totalServices:0,runningServices:0,errorServices:0,avgResponseTime:0});(0,a.useEffect)(()=>{x();let e=setInterval(x,3e4);return()=>clearInterval(e)},[]);let x=async()=>{try{let e=await fetch("/api/direct-data/system-metrics");if(e.ok){let t=await e.json();r(t.microservices||[]),g(t.metrics||d)}else{let e=h();r(e),u(e)}}catch(t){console.error("Failed to fetch microservice status:",t);let e=h();r(e),u(e)}finally{o(!1)}},h=()=>[{name:"authentication",port:8085},{name:"identity-access",port:3020},{name:"user-role-management",port:3035},{name:"company-management",port:3013},{name:"catalog-management",port:3022},{name:"inventory-management",port:3025},{name:"order-management",port:3023},{name:"payment-processing",port:3026},{name:"shipping-delivery",port:3034},{name:"customer-service",port:3024},{name:"notification-service",port:3031},{name:"employee-management",port:3028},{name:"accounting-management",port:3014},{name:"expense-monitoring",port:3021},{name:"analytics-reporting",port:3015},{name:"performance-monitor",port:3029},{name:"reporting-management",port:3032},{name:"content-management",port:3017},{name:"image-management",port:3030},{name:"label-design",port:3027},{name:"marketplace-management",port:3033},{name:"subscription-management",port:3036},{name:"multi-language-management",port:3019},{name:"compliance-audit",port:3016},{name:"integration-hub",port:3018}].map(e=>({...e,status:"running",url:"http://localhost:".concat(e.port),lastChecked:new Date().toISOString(),responseTime:Math.floor(100*Math.random())+50,uptime:"99.9%",version:"1.0.0",healthEndpoint:"/health"})),u=e=>{let t=e.filter(e=>"running"===e.status).length,s=e.filter(e=>"error"===e.status).length,n=e.reduce((e,t)=>e+(t.responseTime||0),0)/e.length;g({totalServices:e.length,runningServices:t,errorServices:s,avgResponseTime:Math.round(n)})},j=s.reduce((e,t)=>{let s=(e=>{for(let[t,s]of Object.entries(R))if(s.includes(e))return t;return"System Support"})(t.name);return e[s]||(e[s]=[]),e[s].push(t),e},{});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"LeafyHealth Global Super Admin Dashboard"})}),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-white font-bold text-sm",children:"LH"})}),(0,n.jsxs)("div",{className:"ml-3",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"LeafyHealth"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Global Super Admin Dashboard"})]})]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Welcome, ",(0,n.jsx)("span",{className:"font-medium text-gray-900",children:null==e?void 0:e.email})]})})]})})}),(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,n.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(l.A,{className:"h-8 w-8 text-indigo-600"})}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Services"}),(0,n.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:d.totalServices})]})]})}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(C.A,{className:"h-8 w-8 text-green-600"})}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Running"}),(0,n.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:d.runningServices})]})]})}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(T.A,{className:"h-8 w-8 text-red-600"})}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Errors"}),(0,n.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:d.errorServices})]})]})}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(A.A,{className:"h-8 w-8 text-blue-600"})}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Avg Response"}),(0,n.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[d.avgResponseTime,"ms"]})]})]})})]}),c?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,n.jsx)("div",{className:"space-y-8",children:Object.entries(j).map(e=>{let[t,s]=e,a=M[t]||p.A;return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,n.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(a,{className:"h-6 w-6 text-indigo-600 mr-3"}),(0,n.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:t}),(0,n.jsxs)("span",{className:"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[s.length," services"]})]})}),(0,n.jsx)("div",{className:"p-6",children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>{let t=O[e.name]||l.A,s=(e=>{switch(e){case"running":return C.A;case"error":return T.A;default:return E.A}})(e.status);return(0,n.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(t,{className:"h-8 w-8 text-gray-600 mr-3"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["Port ",e.port]})]})]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(s,{className:"h-5 w-5 ".concat("running"===e.status?"text-green-500":"error"===e.status?"text-red-500":"text-gray-500")})})]}),(0,n.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[(0,n.jsxs)("span",{children:["Response: ",e.responseTime,"ms"]}),(0,n.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"running":return"text-green-600 bg-green-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(e.status)),children:e.status})]})]},e.name)})})})]},t)})})]})]})]})}},3304:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/system-dashboard",function(){return s(914)}])}},e=>{e.O(0,[1623,636,6593,8792],()=>e(e.s=3304)),_N_E=e.O()}]);