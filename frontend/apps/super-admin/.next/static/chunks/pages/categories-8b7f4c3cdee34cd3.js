(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2644],{418:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(4);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})},1646:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2880:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return r(9701)}])},3488:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4489:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(4);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},5391:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(4);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))})},5595:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6340:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(4);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},6417:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8699:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(4);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))})},8798:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},8967:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},9461:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},9701:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(72),s=r(4751),l=r(4),n=r(2159),i=r(8699);let o=l.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?l.createElement("title",{id:a},r):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var c=r(6340),d=r(5391),u=r(418),h=r(4489);function x(){let[e,t]=(0,l.useState)([]),[r,s]=(0,l.useState)([]),[x,m]=(0,l.useState)(!0),[p,g]=(0,l.useState)(""),[y,f]=(0,l.useState)(!1),[v,b]=(0,l.useState)(null),[j,w]=(0,l.useState)({name:"",description:"",parent_id:null}),{token:k}=(0,n.n)();(0,l.useEffect)(()=>{N()},[]),(0,l.useEffect)(()=>{A()},[e,p]);let N=async()=>{try{m(!0);let e=await fetch("/api/categories",{headers:{Authorization:"Bearer ".concat(k)}});if(e.ok){let r=await e.json();console.log("Categories data received:",r),t(r.data||r.categories||[])}}catch(e){console.error("Error fetching categories:",e)}finally{m(!1)}},A=()=>{let t=[...e];p&&(t=t.filter(e=>{var t;return e.name.toLowerCase().includes(p.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(p.toLowerCase()))})),s(t)},C=async()=>{try{let e=await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)},body:JSON.stringify(j)});if(e.ok){let r=await e.json();t(e=>[...e,r.category]),w({name:"",description:"",parent_id:null}),f(!1)}}catch(e){console.error("Error creating category:",e)}},E=async e=>{if(confirm("Are you sure you want to delete this category?"))try{(await fetch("/api/direct-data/categories/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(k)}})).ok&&t(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting category:",e)}};return x?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i.A,{className:"h-8 w-8 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Organize your products into categories"})]})]}),(0,a.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg flex items-center space-x-2",children:[(0,a.jsx)(o,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"New Category"})]})]}),(0,a.jsx)("div",{className:"backdrop-blur-sm bg-white/90 border-white/20 shadow-xl rounded-lg border",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search categories...",value:p,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]})})}),y&&(0,a.jsxs)("div",{className:"backdrop-blur-sm bg-white/90 border-white/20 shadow-xl rounded-lg border",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Category"})}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),(0,a.jsx)("input",{type:"text",value:j.name,onChange:e=>w(t=>({...t,name:e.target.value})),placeholder:"e.g., Organic Rice",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("input",{type:"text",value:j.description,onChange:e=>w(t=>({...t,description:e.target.value})),placeholder:"Category description...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category"}),(0,a.jsxs)("select",{value:j.parent_id||"",onChange:e=>w(t=>({...t,parent_id:e.target.value?parseInt(e.target.value):null})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"",children:"No Parent (Top Level)"}),e.filter(e=>!e.parent_id).map((e,t)=>(0,a.jsx)("option",{value:e.id,children:e.name},"select-".concat(e.id,"-").concat(e.name,"-").concat(t)))]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:C,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Category"}),(0,a.jsx)("button",{onClick:()=>{f(!1),w({name:"",description:"",parent_id:null})},className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"backdrop-blur-sm bg-white/90 border-white/20 shadow-xl hover:shadow-2xl transition-all duration-300 rounded-lg border",children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["ID: ",e.id]})]})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})]})}),(0,a.jsx)("div",{className:"p-4 pt-0",children:(0,a.jsxs)("div",{className:"space-y-3",children:[e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Products: ",e.product_count||0]}),(0,a.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)("button",{className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white border border-blue-600 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",onClick:()=>b(e),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"flex-1 px-3 py-2 text-sm bg-red-600 text-white border border-red-600 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center",onClick:()=>E(e.id),children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})]})]})})]},"category-".concat(e.id,"-").concat(e.name,"-").concat(t)))}),0===r.length&&!x&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:p?"Try adjusting your search terms.":"Get started by creating your first category."}),!p&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[(0,a.jsx)(o,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Create Category"})]})})]})]})}function m(){return(0,a.jsx)(s.N,{title:"Categories",description:"Product categories management",activeDomain:"products",children:(0,a.jsx)(x,{})})}},9894:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5935).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[9257,4751,636,6593,8792],()=>e(e.s=2880)),_N_E=e.O()}]);