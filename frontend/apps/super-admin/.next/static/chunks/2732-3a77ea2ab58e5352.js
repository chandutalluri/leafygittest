"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2732],{2732:(e,s,t)=>{t.d(s,{VM:()=>B,ej:()=>v,ie:()=>_,Ci:()=>j,BK:()=>P,fY:()=>n});var a=t(72),r=t(4),l=t(983),i=t(4714),d=t(5374),c=t(8699);function n(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)([]),[n,x]=(0,r.useState)([]),[m,o]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[p,j]=(0,r.useState)(null),[u,N]=(0,r.useState)(0),[y,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{v()},[]);let v=async()=>{try{g(!0);let[e,s,a]=await Promise.all([fetch("/api/products"),fetch("/api/categories"),fetch("/api/inventory/alerts")]);if(e.ok){let s=await e.json();if(console.log("Products data received:",s),s.success&&s.data){let e=s.data.map(e=>({id:e.id,name:e.name,price:parseFloat(e.price||0),stock:e.stock||0,category:e.category||"Unknown",status:e.status||"active",images:e.images||[],description:e.description||"",created_at:e.created_at||new Date().toISOString()}));t(e)}}if(s.ok){let e=await s.json();console.log("Categories data received:",e),e.success&&e.data&&x(e.data)}if(a.ok){let e=await a.json();console.log("Alerts data received:",e),e.success&&e.data&&o(e.data)}}catch(e){console.error("Error fetching product data:",e)}finally{g(!1)}};return h?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Product Overview"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:'Use sidebar "Add Product" to create new products'})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(i.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Array.isArray(s)?s.length:0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(i.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"In Stock"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Array.isArray(s)?s.filter(e=>e.stock>0).length:0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,a.jsx)(d.A,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alerts"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Array.isArray(m)?m.length:0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(c.A,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Array.isArray(n)?n.length:0})]})]})})]}),Array.isArray(m)&&m.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alerts"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:m.slice(0,5).map((s,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-red-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:s.product_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Current stock: ",s.current_stock," | Minimum: ",s.min_threshold]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Alert Type: ",s.alert_type]})]})]}),(0,a.jsx)("button",{onClick:()=>e.push("/inventory-management"),className:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700",children:"Restock"})]},s.product_id||t))})})]})]})})}t(418),t(4489);var x=t(7364),m=t(7952),o=t(9852),h=t(2973),g=t(5565),p=t(7471);function j(){var e;let[s,t]=(0,r.useState)("overview"),[l,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{c(!0);let e=await fetch("/api/direct-data/orders");if(e.ok){let s=await e.json();i(s)}}catch(e){console.error("Error fetching order data:",e)}finally{c(!1)}},j=[{id:"overview",name:"Overview",icon:x.A},{id:"orders",name:"Order Management",icon:x.A},{id:"payments",name:"Payment Processing",icon:m.A},{id:"shipping",name:"Shipping & Delivery",icon:o.A},{id:"support",name:"Customer Support",icon:h.A}];return d?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Operations Center"}),(0,a.jsx)("p",{className:"text-gray-600",children:"End-to-end order processing and fulfillment"})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:j.map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(r,{className:"w-4 h-4 mr-2"}),e.name]},e.id)})})}),(0,a.jsxs)("div",{children:["overview"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(x.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(e=>"pending"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(p.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed Orders"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(e=>"delivered"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["â‚¹",l.reduce((e,s)=>e+s.total_amount,0).toLocaleString()]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Orders"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,10).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id.substring(0,8)]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.customer_name}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["â‚¹",e.total_amount.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[e.status]||"bg-gray-100 text-gray-800"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]}),"overview"!==s&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:["orders"===s&&(0,a.jsx)(x.A,{className:"h-12 w-12"}),"payments"===s&&(0,a.jsx)(m.A,{className:"h-12 w-12"}),"shipping"===s&&(0,a.jsx)(o.A,{className:"h-12 w-12"}),"support"===s&&(0,a.jsx)(h.A,{className:"h-12 w-12"})]}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:null==(e=j.find(e=>e.id===s))?void 0:e.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Management interface coming soon"})]})]})]})}var u=t(9817),N=t(3636),y=t(6598),b=t(6197);function v(){var e;let[s,t]=(0,r.useState)("overview"),[l,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{c(!0);let e=await fetch("/api/direct-data/customers");if(e.ok){let s=await e.json();i(s)}}catch(e){console.error("Error fetching customer data:",e)}finally{c(!1)}},x=[{id:"overview",name:"Overview",icon:u.A},{id:"customers",name:"Customer Profiles",icon:N.A},{id:"notifications",name:"Communication",icon:y.A},{id:"subscriptions",name:"Subscriptions",icon:m.A},{id:"support",name:"Support Tickets",icon:h.A}];return d?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Relationship Hub"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Complete customer lifecycle management"})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:x.map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(r,{className:"w-4 h-4 mr-2"}),e.name]},e.id)})})}),(0,a.jsxs)("div",{children:["overview"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(u.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(N.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(e=>"active"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Order Value"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["â‚¹",l.length>0?Math.round(l.reduce((e,s)=>e+s.total_spent,0)/l.reduce((e,s)=>e+s.total_orders,0)||0):0]})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(b.A,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"New This Month"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(e=>{let s=new Date(e.created_at),t=new Date;return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()}).length})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Top Customers"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.sort((e,s)=>s.total_spent-e.total_spent).slice(0,10).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.total_orders}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["â‚¹",e.total_spent.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})})]},e.id))})]})})]})]}),"overview"!==s&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:["customers"===s&&(0,a.jsx)(N.A,{className:"h-12 w-12"}),"notifications"===s&&(0,a.jsx)(y.A,{className:"h-12 w-12"}),"subscriptions"===s&&(0,a.jsx)(m.A,{className:"h-12 w-12"}),"support"===s&&(0,a.jsx)(h.A,{className:"h-12 w-12"})]}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:null==(e=x.find(e=>e.id===s))?void 0:e.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Management interface coming soon"})]})]})]})}var f=t(8482),w=t(7548),A=t(6467),k=t(2826),S=t(7545),C=t(5926);function _(){var e;let[s,t]=(0,r.useState)("overview"),[l,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{c(!0);let e=await fetch("/api/direct-data/payments");if(e.ok){let s=await e.json();i(s)}}catch(e){console.error("Error fetching financial data:",e)}finally{c(!1)}},x=[{id:"overview",name:"Overview",icon:f.A},{id:"accounting",name:"Accounting",icon:w.A},{id:"expenses",name:"Expense Monitoring",icon:A.A},{id:"analytics",name:"Payment Analytics",icon:k.A},{id:"reports",name:"Financial Reports",icon:S.A}],m=l.reduce((e,s)=>e+s.amount,0),o=l.filter(e=>"completed"===e.status).length,h=l.length>0?m/l.length:0;return d?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Control Center"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Comprehensive financial oversight"})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:x.map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(r,{className:"w-4 h-4 mr-2"}),e.name]},e.id)})})}),(0,a.jsxs)("div",{children:["overview"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(f.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["â‚¹",m.toLocaleString()]})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(w.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Transactions"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(C.A,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Successful Payments"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:o})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(k.A,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg Transaction"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["â‚¹",Math.round(h)]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Transactions"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,10).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id.substring(0,8)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["â‚¹",e.amount.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.method}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]}),"overview"!==s&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:["accounting"===s&&(0,a.jsx)(w.A,{className:"h-12 w-12"}),"expenses"===s&&(0,a.jsx)(A.A,{className:"h-12 w-12"}),"analytics"===s&&(0,a.jsx)(k.A,{className:"h-12 w-12"}),"reports"===s&&(0,a.jsx)(S.A,{className:"h-12 w-12"})]}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:null==(e=x.find(e=>e.id===s))?void 0:e.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Management interface coming soon"})]})]})]})}var M=t(5331),E=t(5570),T=t(4875),O=t(5908);function P(){var e;let[s,t]=(0,r.useState)("overview"),[l,i]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[n,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{x(!0);let e=await fetch("/api/direct-data/branches");if(e.ok){let s=await e.json();i(s)}let s=await fetch("/api/direct-data/users");if(s.ok){let e=await s.json();c(e)}}catch(e){console.error("Error fetching organization data:",e)}finally{x(!1)}},o=[{id:"overview",name:"Overview",icon:M.A},{id:"companies",name:"Company Management",icon:M.A},{id:"branches",name:"Branch Management",icon:E.A},{id:"employees",name:"Employee Management",icon:T.A},{id:"roles",name:"Role Management",icon:O.A}];return n?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Organization Hub"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Company structure and team management"})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:o.map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(r,{className:"w-4 h-4 mr-2"}),e.name]},e.id)})})}),(0,a.jsxs)("div",{children:["overview"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(E.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Branches"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(T.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Employees"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:d.length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(u.A,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Branches"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(e=>"active"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(O.A,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Admin Users"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:d.filter(e=>"super_admin"===e.role||"admin"===e.role).length})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Branch Overview"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manager"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.address}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.manager_name||"Not assigned"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.employee_count||0}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})})]},e.id))})]})})]})]}),"overview"!==s&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:["companies"===s&&(0,a.jsx)(M.A,{className:"h-12 w-12"}),"branches"===s&&(0,a.jsx)(E.A,{className:"h-12 w-12"}),"employees"===s&&(0,a.jsx)(T.A,{className:"h-12 w-12"}),"roles"===s&&(0,a.jsx)(O.A,{className:"h-12 w-12"})]}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:null==(e=o.find(e=>e.id===s))?void 0:e.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Management interface coming soon"})]})]})]})}var D=t(9153),R=t(2419),L=t(3250);function B(){var e,s,t,l,i,d,c,n,x;let[m,o]=(0,r.useState)("overview"),[h,g]=(0,r.useState)(null),[p,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{j(!0);let e=await fetch("/api/direct-data/analytics/sales");if(e.ok){let s=await e.json();g(s)}}catch(e){console.error("Error fetching analytics data:",e)}finally{j(!1)}},N=[{id:"overview",name:"Overview",icon:k.A},{id:"analytics",name:"Analytics & Reporting",icon:D.A},{id:"performance",name:"Performance Monitor",icon:C.A},{id:"reporting",name:"Custom Reporting",icon:R.A},{id:"visualization",name:"Data Visualization",icon:L.A}];return p?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Intelligence Center"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Analytics and performance insights"})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:N.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(m===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"w-4 h-4 mr-2"}),e.name]},e.id)})})}),(0,a.jsxs)("div",{children:["overview"===m&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(k.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["â‚¹",(null==h||null==(t=h.sales)||null==(s=t.total)?void 0:s.toLocaleString())||"0"]})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(null==h||null==(l=h.sales)?void 0:l.trend)==="up"?(0,a.jsx)(C.A,{className:"w-6 h-6 text-blue-600"}):(0,a.jsx)(A.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[(null==h||null==(i=h.sales)?void 0:i.growth)||0,"%"]})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(D.A,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(null==h||null==(d=h.customers)?void 0:d.total)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(L.A,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"New Customers"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:(null==h||null==(c=h.customers)?void 0:c.newThisMonth)||0})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Best Selling Products"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:(null==h||null==(x=h.products)||null==(n=x.bestsellers)?void 0:n.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["#",s+1]})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.sales," sales"]})]},e.name)))||(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(k.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No sales data available"})]})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Performance Metrics"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"System Health"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Excellent"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Database Performance"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Good"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"API Response Time"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Fast"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Uptime"}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:"99.9%"})]})]})})]})]})]}),"overview"!==m&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:["analytics"===m&&(0,a.jsx)(D.A,{className:"h-12 w-12"}),"performance"===m&&(0,a.jsx)(C.A,{className:"h-12 w-12"}),"reporting"===m&&(0,a.jsx)(R.A,{className:"h-12 w-12"}),"visualization"===m&&(0,a.jsx)(L.A,{className:"h-12 w-12"})]}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:null==(e=N.find(e=>e.id===m))?void 0:e.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Advanced analytics interface coming soon"})]})]})]})}}}]);