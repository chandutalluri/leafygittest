"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6790],{6790:(e,s,t)=>{t.d(s,{A:()=>w});var r=t(72),a=t(4),l=t(3454),i=t(4229),c=t(241),o=t(8887),d=t(7545),n=t(8699),m=t(743),u=t(4167),g=t(1691),x=t(4018);function h(e){let{className:s,variant:t="rectangular",...a}=e;return(0,r.jsx)("div",{className:(0,x.cn)("animate-pulse bg-gray-200/60 backdrop-blur-sm",{rectangular:"rounded-md",circular:"rounded-full",text:"rounded h-4"}[t],s),...a})}var b=t(7014),p=t(8670),y=t(7471);function f(e){let{onSelect:s,selectedImages:t,maxImages:l=5,isOpen:i,onClose:c}=e,[d,n]=(0,a.useState)(t),{data:m=[],isLoading:u}=(0,b.I)({queryKey:["available-images"],queryFn:async()=>{let e=await fetch("/api/image-management/images");if(!e.ok)throw Error("Failed to fetch images");let s=await e.json();return(s.data||s.images||[]).map(e=>({...e,url:"/api/image-management/serve/".concat(e.filename)}))},enabled:i}),g=e=>{d.some(s=>s.id===e.id)?n(s=>s.filter(s=>s.id!==e.id)):d.length<l&&n(s=>[...s,e])},x=()=>{n(t),c()};return i?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-auto m-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Product Images"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Choose up to ",l," images from your central image library"]})]}),(0,r.jsx)("button",{onClick:x,className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(p.A,{className:"h-6 w-6"})})]}),(0,r.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[d.length," of ",l," images selected"]}),d.length>0&&(0,r.jsx)("button",{onClick:()=>n([]),className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]})}),u&&(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading images..."})}),!u&&0===m.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(o.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No images available"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Upload images in the Image Management tab first"})]}),!u&&m.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:m.map((e,s)=>{let t=d.some(s=>s.id===e.id),a=d.length<l||t;return(0,r.jsxs)("div",{className:"relative rounded-lg overflow-hidden border-2 cursor-pointer transition-all ".concat(t?"border-blue-500 ring-2 ring-blue-200":a?"border-gray-200 hover:border-gray-300":"border-gray-100 opacity-50 cursor-not-allowed"),onClick:()=>a&&g(e),children:[(0,r.jsxs)("div",{className:"aspect-square relative",children:[(0,r.jsx)("img",{src:e.url,alt:e.originalName||e.filename,className:"w-full h-full object-cover",onError:e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBMMTMwIDEzMEg3MEwxMDAgNzBaIiBmaWxsPSIjOWNhM2FmIi8+CjxjaXJjbGUgY3g9IjE0MCIgY3k9IjYwIiByPSIxMCIgZmlsbD0iIzljYTNhZiIvPgo8L3N2Zz4="}}),t&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)(y.A,{className:"h-6 w-6 text-blue-600 bg-white rounded-full"})}),t&&(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-medium",children:d.findIndex(s=>s.id===e.id)+1})]}),(0,r.jsxs)("div",{className:"p-2 bg-white",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.originalName||e.filename}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:(e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,s)).toFixed(1))," ").concat(["B","KB","MB","GB"][s])})(e.size)})]})]},"".concat(e.id,"-").concat(e.filename,"-").concat(s))})}),d.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Selected Images:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((e,s)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:e.url,alt:e.originalName||e.filename,className:"w-16 h-16 object-cover rounded border-2 border-blue-500"}),(0,r.jsx)("div",{className:"absolute -top-1 -left-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:s+1}),(0,r.jsx)("button",{onClick:()=>g(e),className:"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-700",children:(0,r.jsx)(p.A,{className:"h-3 w-3"})})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:x,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,r.jsxs)("button",{onClick:()=>{s(d),c()},disabled:0===d.length,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Select ",d.length," Image",1!==d.length?"s":""]})]})]})}):null}var j=t(2159);let N=(0,t(1734).v)(e=>({branches:[{id:"1",name:"Hyderabad Central",location:"Hyderabad, Telangana",isActive:!0},{id:"2",name:"Vijayawada Branch",location:"Vijayawada, Andhra Pradesh",isActive:!0},{id:"3",name:"Visakhapatnam Store",location:"Visakhapatnam, Andhra Pradesh",isActive:!0},{id:"4",name:"Warangal Outlet",location:"Warangal, Telangana",isActive:!0},{id:"5",name:"Guntur Branch",location:"Guntur, Andhra Pradesh",isActive:!0}],selectedBranch:null,isLoading:!1,setBranches:s=>{e({branches:s})},setSelectedBranch:s=>{e({selectedBranch:s})},setLoading:s=>{e({isLoading:s})}}));var v=t(3228);function w(e){var s;let{editMode:t=!1,productId:x,initialData:b,onClose:p,onSuccess:y}=e,{user:w,token:k}=(0,j.n)(),{branches:S}=N(),P=(null==S?void 0:S.map(e=>({...e,address:e.address||e.location||"Location not specified"})))||[],[I,A]=(0,a.useState)([]),[C,D]=(0,a.useState)([]),[M,B]=(0,a.useState)(!1),[E,L]=(0,a.useState)(!1),[F,O]=(0,a.useState)(null),{register:T,handleSubmit:z,formState:{errors:G,isSubmitting:_},reset:U,watch:W,setValue:Z}=(0,l.mN)({defaultValues:t&&b?{name:b.name||"",description:b.description||"",shortDescription:b.shortDescription||"",sku:b.sku||"",barcode:b.barcode||"",price:b.price||0,salePrice:b.salePrice||0,costPrice:b.costPrice||0,weight:b.weight||0,unit:b.unit||"kg",categoryId:b.categoryId||(null==(s=b.category)?void 0:s.id)||"",openingStock:b.openingStock||0,reorderLevel:b.reorderLevel||10,maxStock:b.maxStock||1e3,stockStatus:b.stockStatus||"in_stock",isFeatured:b.isFeatured||!1,isDigital:b.isDigital||!1,status:b.status||"active",seoTitle:b.seoTitle||"",seoDescription:b.seoDescription||"",tags:b.tags||[],attributes:b.attributes||{},dimensions:b.dimensions||{}}:{name:"",description:"",shortDescription:"",sku:"",barcode:"",price:0,salePrice:0,costPrice:0,weight:0,unit:"kg",categoryId:"",openingStock:0,reorderLevel:0,maxStock:1e3,stockStatus:"in_stock",isFeatured:!1,isDigital:!1,status:"active",seoTitle:"",seoDescription:"",tags:[],attributes:{},dimensions:{}}}),[q,H]=(0,a.useState)([]),[R,Y]=(0,a.useState)(!0),[J,V]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{console.log("Fetching categories from /api/categories"),Y(!0);let e=await fetch("/api/categories");if(!e.ok)throw console.error("Categories API failed:",e.status,e.statusText),Error("Failed to fetch categories: ".concat(e.status));let s=await e.json();console.log("Categories API response:",s),s&&s.success&&Array.isArray(s.data)?(console.log("Categories found (success/data format):",s.data.length),H(s.data)):Array.isArray(s)?(console.log("Categories found (array format):",s.length),H(s)):(console.warn("Categories API returned unexpected format:",s),H([])),V(null)}catch(e){console.error("Error fetching categories:",e),V(e instanceof Error?e.message:"Failed to fetch categories"),H([])}finally{Y(!1)}})()},[]),console.log("Categories loading state:",{categories:(null==q?void 0:q.length)||0,isLoading:R,error:J});let K=(0,i.n)({mutationFn:async e=>{let s={name:e.name,description:e.description||"",shortDescription:e.shortDescription||"",sku:e.sku||"",barcode:e.barcode||"",price:Number(e.price)||0,salePrice:e.salePrice?Number(e.salePrice):null,costPrice:e.costPrice?Number(e.costPrice):null,weight:e.weight?Number(e.weight):null,unit:e.unit||"kg",categoryId:parseInt(e.categoryId)||1,branchIds:I.map(e=>parseInt(e)),openingStock:Number(e.openingStock)||100,reorderLevel:Number(e.reorderLevel)||10,maxStock:e.maxStock?Number(e.maxStock):null,stockStatus:e.stockStatus||"in_stock",isFeatured:e.isFeatured||!1,isDigital:e.isDigital||!1,status:e.status||"active",seoTitle:e.seoTitle||"",seoDescription:e.seoDescription||"",tags:e.tags||[],attributes:e.attributes||{},dimensions:e.dimensions||{}},r=await fetch(t?"/api/products/".concat(x):"/api/product-orchestrator/create-composite",{method:t?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)},body:JSON.stringify(s)});if(!r.ok)throw Error((await r.json()).message||"Failed to ".concat(t?"update":"create"," product"));return r.json()},onSuccess:e=>{v.Ay.success("Product ".concat(t?"updated":"created"," successfully!")),O(e.productId||e.id),t?(null==y||y(),null==p||p()):(U(),A([]),D([]))},onError:e=>{console.error("Product ".concat(t?"update":"creation"," error:"),{message:(null==e?void 0:e.message)||"Unknown error",status:null==e?void 0:e.status,response:null==e?void 0:e.response,stack:null==e?void 0:e.stack}),v.Ay.error((null==e?void 0:e.message)||"Failed to ".concat(t?"update":"create"," product"))}}),Q=async e=>0===I.length?void v.Ay.error("Please select at least one branch"):e.categoryId?void K.mutate(e):void v.Ay.error("Please select a category");(0,a.useEffect)(()=>{P&&P.length>0&&0===I.length&&A([P[0].id])},[P,I.length]);let X=async()=>{if(!F)return void v.Ay.error("Please create a product first");L(!0);try{let e=await fetch("/api/label-design/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)},body:JSON.stringify({productId:F,templateType:"standard"})});if(!e.ok)throw Error("Failed to generate label");let s=await e.json();v.Ay.success("Product label generated successfully!"),s.downloadUrl&&window.open(s.downloadUrl,"_blank")}catch(e){v.Ay.error("Failed to generate product label")}finally{L(!1)}};return R?(0,r.jsx)("div",{className:"w-full max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[(0,r.jsx)(h,{className:"h-8 w-64 mb-4"}),(0,r.jsx)(h,{className:"h-96 w-full"})]})}):(0,r.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 px-8 py-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(c.A,{className:"h-10 w-10 text-white mr-4"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:t?"Edit Product":"Create New Product"}),(0,r.jsx)("p",{className:"text-green-100 mt-1",children:t?"Update product information across all branches":"Add products to your inventory across multiple branches"})]})]})}),(0,r.jsx)("div",{className:"p-8",children:(0,r.jsxs)("form",{onSubmit:z(Q),className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(o.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Images"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm text-gray-700",children:"Select images from your central image library"}),(0,r.jsx)("button",{type:"button",onClick:()=>B(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:C.length>0?"Change Images":"Select Images"})]}),C.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:C.map((e,s)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("img",{src:e.url,alt:e.originalName||e.filename,className:"w-full h-24 object-cover rounded-lg border-2 border-blue-500"}),(0,r.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:s+1}),(0,r.jsx)("button",{type:"button",onClick:()=>D(s=>s.filter(s=>s.id!==e.id)),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},"selected-image-".concat(e.id)))}),0===C.length&&(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center bg-white",children:[(0,r.jsx)(o.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"No images selected"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:'Click "Select Images" to choose from your image library'})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(d.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Product Name *"}),(0,r.jsx)("input",{type:"text",...T("name",{required:"Product name is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"Enter product name"}),G.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"SKU (Optional)"}),(0,r.jsx)("input",{type:"text",...T("sku"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"Auto-generated if empty"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Barcode (Optional)"}),(0,r.jsx)("input",{type:"text",...T("barcode"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"Product barcode"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Status"}),(0,r.jsxs)("select",{...T("status"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",children:[(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,r.jsx)("option",{value:"draft",children:"Draft"})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Short Description"}),(0,r.jsx)("textarea",{...T("shortDescription"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500 resize-none",placeholder:"Brief product summary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Full Description"}),(0,r.jsx)("textarea",{...T("description"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500 resize-none",placeholder:"Detailed product description"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(n.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Category & Pricing"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Category *"}),(0,r.jsxs)("select",{...T("categoryId",{required:"Category is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),null==q?void 0:q.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},"category-".concat(e.id)))]}),G.categoryId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.categoryId.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Regular Price (₹) *"}),(0,r.jsx)("input",{type:"number",step:"0.01",...T("price",{required:"Price is required",min:{value:0,message:"Price must be positive"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0.00"}),G.price&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.price.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Sale Price (₹)"}),(0,r.jsx)("input",{type:"number",step:"0.01",...T("salePrice",{min:{value:0,message:"Sale price must be positive"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0.00"}),G.salePrice&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.salePrice.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Cost Price (₹)"}),(0,r.jsx)("input",{type:"number",step:"0.01",...T("costPrice",{min:{value:0,message:"Cost price must be positive"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0.00"}),G.costPrice&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.costPrice.message})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Discount (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",...T("salePrice"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Tax Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",...T("weight"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(m.A,{className:"h-6 w-6 text-orange-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Branches"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null==P?void 0:P.map(e=>(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("label",{className:"flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,r.jsx)("input",{type:"checkbox",checked:I.includes(e.id),onChange:()=>{var s;return s=e.id,void A(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.address})]})]})},"branch-".concat(e.id)))}),0===I.length&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:"Please select at least one branch"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventory Settings"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Opening Stock"}),(0,r.jsx)("input",{type:"number",min:"0",...T("openingStock",{min:{value:0,message:"Opening stock must be non-negative"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0"}),G.openingStock&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.openingStock.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Reorder Level"}),(0,r.jsx)("input",{type:"number",min:"0",...T("reorderLevel",{min:{value:0,message:"Reorder level must be non-negative"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0"}),G.reorderLevel&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.reorderLevel.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Maximum Stock"}),(0,r.jsx)("input",{type:"number",min:"0",...T("maxStock",{min:{value:0,message:"Maximum stock must be non-negative"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"1000"}),G.maxStock&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.maxStock.message})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(m.A,{className:"h-6 w-6 text-indigo-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Physical Attributes"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Weight"}),(0,r.jsx)("input",{type:"number",step:"0.01",...T("weight",{min:{value:0,message:"Weight must be positive"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"0.00"}),G.weight&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:G.weight.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Unit"}),(0,r.jsxs)("select",{...T("unit"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",children:[(0,r.jsx)("option",{value:"kg",children:"Kilogram (kg)"}),(0,r.jsx)("option",{value:"g",children:"Gram (g)"}),(0,r.jsx)("option",{value:"l",children:"Liter (l)"}),(0,r.jsx)("option",{value:"ml",children:"Milliliter (ml)"}),(0,r.jsx)("option",{value:"piece",children:"Piece"}),(0,r.jsx)("option",{value:"dozen",children:"Dozen"}),(0,r.jsx)("option",{value:"pack",children:"Pack"}),(0,r.jsx)("option",{value:"box",children:"Box"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Stock Status"}),(0,r.jsxs)("select",{...T("stockStatus"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900",children:[(0,r.jsx)("option",{value:"in_stock",children:"In Stock"}),(0,r.jsx)("option",{value:"out_of_stock",children:"Out of Stock"}),(0,r.jsx)("option",{value:"limited_stock",children:"Limited Stock"}),(0,r.jsx)("option",{value:"pre_order",children:"Pre-Order"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",...T("isFeatured"),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-900",children:"Featured Product"})]})}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",...T("isDigital"),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-900",children:"Digital Product"})]})})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(n.A,{className:"h-6 w-6 text-red-600 mr-3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"SEO & Meta Information"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"SEO Title"}),(0,r.jsx)("input",{type:"text",...T("seoTitle"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500",placeholder:"SEO optimized product title"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"SEO Description"}),(0,r.jsx)("textarea",{...T("seoDescription"),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 placeholder-gray-500 resize-none",placeholder:"SEO meta description for search engines"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"submit",disabled:_,className:"flex-1 px-8 py-4 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-all duration-200 font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:_?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),t?"Updating Product...":"Creating Product..."]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 mr-2"}),t?"Update Product":"Create Product"]})}),F&&(0,r.jsx)("button",{type:"button",onClick:X,disabled:E,className:"px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Generating...":"Generate Label"})]})]})})]}),M&&(0,r.jsx)(f,{isOpen:M,onSelect:e=>{D(e)},onClose:()=>B(!1),selectedImages:C})]})}}}]);