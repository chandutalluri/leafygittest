(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{1241:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(7014);function s(){let{data:e,isLoading:t}=(0,r.I)({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}},1648:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/traditional/history",function(){return a(2271)}])},2271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(72),s=a(4),l=a(6316),i=a.n(l),c=a(7698),n=a.n(c),d=a(1835),o=a(7977),x=a(1288),h=a(8033),m=a(1241),u=a(8948),y=a(5814),p=a(4081),g=a(4474);let j=(0,a(5935).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function b(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[c,b]=(0,s.useState)("all"),{user:N}=(0,m.A)();(0,s.useEffect)(()=>{(null==N?void 0:N.id)&&v()},[N,c]);let v=async()=>{try{let e="/api/traditional/customer/".concat(null==N?void 0:N.id,"/orders");"all"!==c&&(e+="?status=".concat(c));let a=await fetch(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});if(a.ok){let e=await a.json();t(e.data)}}catch(e){console.error("Error fetching orders:",e)}finally{l(!1)}},f=e=>{switch(e){case"pending":return(0,r.jsx)(u.A,{className:"w-5 h-5 text-yellow-500"});case"processing":return(0,r.jsx)(y.A,{className:"w-5 h-5 text-blue-500"});case"shipped":return(0,r.jsx)(p.A,{className:"w-5 h-5 text-purple-500"});case"delivered":return(0,r.jsx)(g.A,{className:"w-5 h-5 text-green-500"});default:return(0,r.jsx)(y.A,{className:"w-5 h-5 text-gray-400"})}},w=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=e=>{switch(e){case"ordinary":return{name:"Ordinary",symbol:"₹",color:"text-gray-600"};case"medium":return{name:"Medium",symbol:"₹₹",color:"text-blue-600"};case"best":return{name:"Best",symbol:"₹₹₹",color:"text-emerald-600"};default:return{name:e,symbol:"₹",color:"text-gray-600"}}};return N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Traditional Order History - LeafyHealth"})}),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[(0,r.jsx)(o.A,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)(d.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Traditional Order History"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track all your traditional home supplies orders"})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","pending","processing","shipped","delivered"].map(e=>(0,r.jsx)("button",{onClick:()=>b(e),className:"px-4 py-2 rounded-lg transition-all ".concat(c===e?"bg-emerald-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),a?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto"})}):0===e.length?(0,r.jsxs)(h.A,{className:"text-center py-12",children:[(0,r.jsx)(y.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"No orders found"}),(0,r.jsx)(n(),{href:"/traditional",className:"text-emerald-600 hover:underline",children:"Place your first traditional order"})]}):(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>{let t=A(e.quality_tier);return(0,r.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.01},children:(0,r.jsx)(n(),{href:"/traditional/order/".concat(e.id),children:(0,r.jsx)(h.A,{className:"p-6 cursor-pointer hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:["Order #",e.id]}),(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm flex items-center gap-1 ".concat(w(e.order_status)),children:[f(e.order_status),e.order_status]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:["Placed on ",new Date(e.order_date).toLocaleDateString()]}),e.delivery_date&&(0,r.jsxs)("p",{children:["Expected delivery:"," ",new Date(e.delivery_date).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"".concat(t.color," font-bold mb-1"),children:[t.symbol," ",t.name]}),(0,r.jsxs)("p",{className:"text-xl font-bold text-gray-800",children:["₹",e.total_amount]}),e.item_count&&(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.item_count," items"]})]}),(0,r.jsx)(j,{className:"w-5 h-5 text-gray-400 ml-4"})]})})})},e.id)})}),(0,r.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)(n(),{href:"/traditional",className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-center",children:"Place New Order"}),(0,r.jsx)(n(),{href:"/",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-center",children:"Back to Home"})]})]}),(0,r.jsx)(x.A,{})]})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50",children:[(0,r.jsx)(o.A,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"Please login to view your order history"}),(0,r.jsx)(n(),{href:"/auth/login",className:"text-emerald-600 hover:underline mt-4 inline-block",children:"Login"})]}),(0,r.jsx)(x.A,{})]})}},4081:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5935).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},4474:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5935).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},5814:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5935).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},8948:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5935).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[133,636,593,792],()=>t(1648)),_N_E=e.O()}]);