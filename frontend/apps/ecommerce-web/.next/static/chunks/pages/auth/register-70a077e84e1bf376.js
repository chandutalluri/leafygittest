(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{6316:(e,r,a)=>{e.exports=a(5938)},9624:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var s=a(72),t=a(4),n=a(6316),o=a.n(n),l=a(7698),i=a.n(l);function d(){let[e,r]=(0,t.useState)({fullName:"",email:"",phone:"",password:"",confirmPassword:""}),[a,n]=(0,t.useState)(!1),[l,d]=(0,t.useState)(""),[c,m]=(0,t.useState)(!1),u=a=>{r({...e,[a.target.name]:a.target.value})},x=async r=>{if(r.preventDefault(),n(!0),d(""),e.password!==e.confirmPassword){d("Passwords do not match"),n(!1);return}if(e.password.length<6){d("Password must be at least 6 characters"),n(!1);return}try{console.log("Customer registration attempt for:",e.email);let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:e.fullName,email:e.email,phone:e.phone,password:e.password,userType:"customer"})});if(r.ok){let e=await r.json();console.log("Registration successful:",e),m(!0),setTimeout(()=>{window.location.href="/auth/login"},2e3)}else{let e=await r.json();d(e.message||"Registration failed")}}catch(e){console.error("Registration error:",e),d("Network error. Please try again.")}finally{n(!1)}};return c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{children:(0,s.jsx)("title",{children:"Registration Successful - Sri Venkateswara Organic Foods"})}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center px-4",children:(0,s.jsx)("div",{className:"max-w-md w-full text-center",children:(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md border border-white/20 rounded-2xl shadow-xl p-8",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"âœ…"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Welcome to Sri Venkateswara Organic Foods. Redirecting to login..."}),(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"})]})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Create Account - Sri Venkateswara Organic Foods"}),(0,s.jsx)("meta",{name:"description",content:"Create your customer account"})]}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center px-4 py-8",children:(0,s.jsx)("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-md border border-white/20 rounded-2xl shadow-xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Join our organic food family"}),(0,s.jsx)("div",{className:"text-4xl mt-4",children:"\uD83C\uDF3F"})]}),l&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,s.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Your full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"your@email.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+91 9876543210"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Create a strong password"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Confirm your password"})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white py-3 px-4 rounded-lg font-medium mt-6",children:a?"Creating Account...":"Create Account"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(i(),{href:"/auth/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Already have an account? Sign in"})}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:(0,s.jsx)("p",{className:"text-xs text-gray-600 text-center",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]})})})]})}},9800:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return a(9624)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(9800)),_N_E=e.O()}]);