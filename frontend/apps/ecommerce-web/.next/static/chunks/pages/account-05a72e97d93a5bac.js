(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{241:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(4);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})},2924:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return t(3133)}])},3133:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(72),a=t(4),l=t(983),n=t(3636),i=t(5570),d=t(241),c=t(7591);let o=a.forwardRef(function(e,s){let{title:t,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))});var m=t(6598),x=t(5908),u=t(9983),h=t(8451);let g=a.forwardRef(function(e,s){let{title:t,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},l),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});var p=t(4489),f=t(8939),b=t(3644),j=t(7977);function y(){return(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-emerald-500 border-t-transparent"})})}var N=t(1961);function v(){let e=(0,l.useRouter)(),{user:s,isAuthenticated:t,logout:g}=(0,f.n)(),{selectedBranch:p}=(0,b.x)(),[v,A]=(0,a.useState)("profile"),[C,S]=(0,a.useState)([]),[E,L]=(0,a.useState)(!1),[O,_]=(0,a.useState)(null),[D,M]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!t)return void e.push("/auth/login?returnUrl=/account");P()},[t,e]);let P=async()=>{try{let e=localStorage.getItem("user_addresses");e&&S(JSON.parse(e))}catch(e){console.error("Error loading addresses:",e)}finally{M(!1)}},R=e=>{let s=C.filter(s=>s.id!==e);S(s),localStorage.setItem("user_addresses",JSON.stringify(s)),N.oR.success("Address deleted!")},W=e=>{let s=C.map(s=>({...s,isDefault:s.id===e}));S(s),localStorage.setItem("user_addresses",JSON.stringify(s)),N.oR.success("Default address updated!")};if(D)return(0,r.jsx)(y,{});if(!s)return null;let B=[{id:"profile",label:"Profile",icon:n.A},{id:"addresses",label:"Addresses",icon:i.A},{id:"orders",label:"Orders",icon:d.A},{id:"wishlist",label:"Wishlist",icon:c.A},{id:"payments",label:"Payment Methods",icon:o},{id:"notifications",label:"Notifications",icon:m.A},{id:"security",label:"Security",icon:x.A}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.A,{}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("button",{onClick:()=>e.push("/customer"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"Back to Shopping"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Account"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your profile and preferences"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"md:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,r.jsxs)("div",{className:"text-center mb-6 pb-6 border-b",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-green-500 rounded-full mx-auto mb-3 flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"w-12 h-12 text-white"})}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:s.name||s.email}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:s.email}),p&&(0,r.jsxs)("p",{className:"text-xs text-green-600 mt-2",children:[p.name," Branch"]})]}),(0,r.jsxs)("nav",{className:"space-y-1",children:[B.map(e=>(0,r.jsxs)("button",{onClick:()=>A(e.id),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ".concat(v===e.id?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(e.icon,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id)),(0,r.jsxs)("button",{onClick:()=>{g(),e.push("/customer")},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 rotate-180"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),(0,r.jsx)("div",{className:"md:col-span-3",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:["profile"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Profile Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsx)("input",{type:"text",defaultValue:s.name||"",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",defaultValue:s.email,disabled:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",placeholder:"+91 98765 43210",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Save Changes"})]})]}),"addresses"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Delivery Addresses"}),(0,r.jsxs)("button",{onClick:()=>L(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[(0,r.jsx)(h.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Add Address"})]})]}),E||O?(0,r.jsx)(w,{address:O?C.find(e=>e.id===O):void 0,onSave:e=>{let s=O?C.map(s=>s.id===O?e:s):[...C,{...e,id:Date.now().toString()}];S(s),localStorage.setItem("user_addresses",JSON.stringify(s)),N.oR.success(O?"Address updated!":"Address added!"),L(!1),_(null)},onCancel:()=>{L(!1),_(null)}}):(0,r.jsx)("div",{className:"space-y-4",children:0===C.length?(0,r.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No addresses saved. Add your first delivery address."}):C.map(e=>(0,r.jsx)(k,{address:e,onEdit:()=>_(e.id),onDelete:()=>R(e.id),onSetDefault:()=>W(e.id)},e.id))})]}),"orders"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Order History"}),(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(d.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No orders yet"}),(0,r.jsx)("button",{onClick:()=>e.push("/products"),className:"mt-4 text-green-600 hover:text-green-700",children:"Start Shopping"})]})]}),"wishlist"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"My Wishlist"}),(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Your wishlist is empty"})]})]}),"payments"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Payment Methods"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No payment methods saved"})]}),"notifications"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Notification Preferences"}),(0,r.jsx)("div",{className:"space-y-4",children:["Order Updates","Promotional Emails","SMS Notifications"].map(e=>(0,r.jsxs)("label",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-gray-700",children:e}),(0,r.jsx)("input",{type:"checkbox",className:"form-checkbox text-green-600"})]},e))})]}),"security"===v&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),(0,r.jsx)("button",{className:"text-green-600 hover:text-green-700",children:"Change Password"})]})]})})]})]})})]})}function w(e){let{address:s,onSave:t,onCancel:l}=e,[n,i]=(0,a.useState)(s||{type:"home",name:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"Andhra Pradesh",pincode:"",isDefault:!1});return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(n)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,r.jsx)("input",{type:"text",required:!0,value:n.name,onChange:e=>i({...n,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",required:!0,value:n.phone,onChange:e=>i({...n,phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Type"}),(0,r.jsxs)("select",{value:n.type,onChange:e=>i({...n,type:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[(0,r.jsx)("option",{value:"home",children:"Home"}),(0,r.jsx)("option",{value:"work",children:"Work"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1"}),(0,r.jsx)("input",{type:"text",required:!0,value:n.addressLine1,onChange:e=>i({...n,addressLine1:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2 (Optional)"}),(0,r.jsx)("input",{type:"text",value:n.addressLine2,onChange:e=>i({...n,addressLine2:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,r.jsx)("input",{type:"text",required:!0,value:n.city,onChange:e=>i({...n,city:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,r.jsx)("input",{type:"text",required:!0,value:n.state,onChange:e=>i({...n,state:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),(0,r.jsx)("input",{type:"text",required:!0,pattern:"[0-9]{6}",value:n.pincode,onChange:e=>i({...n,pincode:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"default",checked:n.isDefault,onChange:e=>i({...n,isDefault:e.target.checked}),className:"form-checkbox text-green-600"}),(0,r.jsx)("label",{htmlFor:"default",className:"ml-2 text-sm text-gray-700",children:"Set as default address"})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Save Address"}),(0,r.jsx)("button",{type:"button",onClick:l,className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}function k(e){let{address:s,onEdit:t,onDelete:a,onSetDefault:l}=e;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 ".concat(s.isDefault?"border-green-500":"border-gray-200"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("span",{className:"font-semibold",children:s.name}),(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-xs rounded-full capitalize",children:s.type}),s.isDefault&&(0,r.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Default"})]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:[s.addressLine1,s.addressLine2&&(0,r.jsxs)(r.Fragment,{children:[", ",s.addressLine2]})]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:[s.city,", ",s.state," - ",s.pincode]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Phone: ",s.phone]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:(0,r.jsx)(g,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:a,className:"text-red-500 hover:text-red-700",children:(0,r.jsx)(p.A,{className:"w-5 h-5"})})]})]}),!s.isDefault&&(0,r.jsx)("button",{onClick:l,className:"mt-3 text-sm text-green-600 hover:text-green-700",children:"Set as default"})]})}},5908:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(4);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))})},7591:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(4);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))})},9983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(4);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(2924)),_N_E=e.O()}]);